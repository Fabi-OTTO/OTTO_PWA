<!DOCTYPE html>
<!-- saved from url=(0117)https://medium.com/@loginov_rocks/how-to-make-a-web-app-for-your-own-bluetooth-low-energy-device-arduino-2af8d16fdbe8 -->
<html lang="en" data-rh="lang" class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="./How to make a web app for your own Bluetooth Low Energy device__files/branch-latest.min.js"></script><script async="" src="./How to make a web app for your own Bluetooth Low Energy device__files/analytics.js"></script><script>!function(c,f){var t,o,i,e=[],r={passive:!0,capture:!0},n=new Date,a="pointerup",u="pointercancel";function p(n,e){t||(t=e,o=n,i=new Date,w(f),s())}function s(){0<=o&&o<i-n&&(e.forEach(function(n){n(o,t)}),e=[])}function l(n){if(n.cancelable){var e=(1e12<n.timeStamp?new Date:performance.now())-n.timeStamp;"pointerdown"==n.type?function(n,e){function t(){p(n,e),i()}function o(){i()}function i(){f(a,t,r),f(u,o,r)}c(a,t,r),c(u,o,r)}(e,n):p(e,n)}}function w(e){["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(n){e(n,l,r)})}w(c),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(n){e.push(n),s()}}(addEventListener,removeEventListener)</script><title>How to make a web app for your own Bluetooth Low Energy device?</title><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><meta data-rh="true" name="theme-color" content="#000000"><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"><meta data-rh="true" property="al:ios:app_name" content="Medium"><meta data-rh="true" property="al:ios:app_store_id" content="828256236"><meta data-rh="true" property="al:android:package" content="com.medium.reader"><meta data-rh="true" property="fb:app_id" content="542599432471018"><meta data-rh="true" property="og:site_name" content="Medium"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2019-06-07T11:29:24.844Z"><meta data-rh="true" name="title" content="How to make a web app for your own Bluetooth Low Energy device?"><meta data-rh="true" property="og:title" content="How to make a web app for your own Bluetooth Low Energy device?"><meta data-rh="true" property="twitter:title" content="How to make a web app for your own Bluetooth Low Energy device?"><meta data-rh="true" name="twitter:site" content="@Medium"><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/2af8d16fdbe8"><meta data-rh="true" property="al:android:url" content="medium://p/2af8d16fdbe8"><meta data-rh="true" property="al:ios:url" content="medium://p/2af8d16fdbe8"><meta data-rh="true" property="al:android:app_name" content="Medium"><meta data-rh="true" name="description" content=" Some time ago I assembled unpretentious robot arm for fun and decided to control it with smartphone using Bluetooth. At that time I haven’t experience in native application development yet and I was…"><meta data-rh="true" property="og:description" content="Some time ago I assembled unpretentious robot arm for fun and decided to control it with smartphone using Bluetooth. At that time I haven’t…"><meta data-rh="true" property="twitter:description" content="Some time ago I assembled unpretentious robot arm for fun and decided to control it with smartphone using Bluetooth. At that time I haven’t…"><meta data-rh="true" property="og:url" content="https://medium.com/@loginov_rocks/how-to-make-a-web-app-for-your-own-bluetooth-low-energy-device-arduino-2af8d16fdbe8"><meta data-rh="true" property="al:web:url" content="https://medium.com/@loginov_rocks/how-to-make-a-web-app-for-your-own-bluetooth-low-energy-device-arduino-2af8d16fdbe8"><meta data-rh="true" property="og:image" content="https://miro.medium.com/max/1200/1*QVwPTjm63e5UXFMhShbD3g.png"><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/1200/1*QVwPTjm63e5UXFMhShbD3g.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="article:author" content="https://medium.com/@loginov_rocks"><meta data-rh="true" name="twitter:creator" content="@1oginov"><meta data-rh="true" name="author" content="Danila Loginov"><meta data-rh="true" name="robots" content="index,follow"><meta data-rh="true" name="referrer" content="unsafe-url"><meta data-rh="true" name="twitter:label1" value="Reading time"><meta data-rh="true" name="twitter:data1" value="15 min read"><meta data-rh="true" name="parsely-post-id" content="2af8d16fdbe8"><link data-rh="true" rel="publisher" href="https://plus.google.com/103654360130207659246"><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="https://medium.com/osd.xml"><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/76/76/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/60/60/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"><link data-rh="true" rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico"><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="./How to make a web app for your own Bluetooth Low Energy device__files/m2.css"><link data-rh="true" rel="author" href="https://medium.com/@loginov_rocks"><link data-rh="true" rel="canonical" href="https://medium.com/@loginov_rocks/how-to-make-a-web-app-for-your-own-bluetooth-low-energy-device-arduino-2af8d16fdbe8"><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/2af8d16fdbe8"><script data-rh="true">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-24232453-2', 'auto');
ga('send', 'pageview');</script><link rel="preload" href="./How to make a web app for your own Bluetooth Low Energy device__files/16180790160.js" as="script"><style type="text/css" data-fela-rehydration="431" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}</style><style type="text/css" data-fela-rehydration="431" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}@-moz-keyframes k1{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}@keyframes k1{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}@-webkit-keyframes k2{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@-moz-keyframes k2{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@keyframes k2{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@-webkit-keyframes k3{0%{transform:matrix(0.97, 0, 0, 1, 0, 12);opacity:0}20%{transform:matrix(0.99, 0, 0, 1, 0, 2);opacity:0.7}40%{transform:matrix(1, 0, 0, 1, 0, -1);opacity:1}70%{transform:matrix(1, 0, 0, 1, 0, 0);opacity:1}100%{transform:matrix(1, 0, 0, 1, 0, 0);opacity:1}}@-moz-keyframes k3{0%{transform:matrix(0.97, 0, 0, 1, 0, 12);opacity:0}20%{transform:matrix(0.99, 0, 0, 1, 0, 2);opacity:0.7}40%{transform:matrix(1, 0, 0, 1, 0, -1);opacity:1}70%{transform:matrix(1, 0, 0, 1, 0, 0);opacity:1}100%{transform:matrix(1, 0, 0, 1, 0, 0);opacity:1}}@keyframes k3{0%{transform:matrix(0.97, 0, 0, 1, 0, 12);opacity:0}20%{transform:matrix(0.99, 0, 0, 1, 0, 2);opacity:0.7}40%{transform:matrix(1, 0, 0, 1, 0, -1);opacity:1}70%{transform:matrix(1, 0, 0, 1, 0, 0);opacity:1}100%{transform:matrix(1, 0, 0, 1, 0, 0);opacity:1}}</style><style type="text/css" data-fela-rehydration="431" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{height:100vh}.m{width:100vw}.n{display:flex}.o{align-items:center}.p{justify-content:center}.q{fill:rgba(0, 0, 0, 0.84)}.r{display:block}.s{position:fixed}.t{top:0}.u{left:0}.v{right:0}.w{z-index:500}.x{box-shadow:0 4px 12px 0 rgba(0, 0, 0, 0.05)}.ai{max-width:1192px}.aj{min-width:0}.ak{width:100%}.al{height:65px}.ao{flex:1 0 auto}.ap{display:none}.ar{flex:0 0 auto}.as{font-family:medium-content-sans-serif-font, "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Arial, sans-serif}.at{font-style:normal}.au{line-height:20px}.av{font-size:15.8px}.aw{letter-spacing:0px}.ax{color:rgba(0, 0, 0, 0.54)}.ay{fill:rgba(0, 0, 0, 0.54)}.az{justify-content:flex-end}.ba{margin-top:16px}.bb{margin-bottom:16px}.bc{display:inherit}.bd{max-width:210px}.be{text-overflow:ellipsis}.bf{overflow:hidden}.bg{white-space:nowrap}.bh{display:inline-block}.bi{border:none}.bj{outline:none}.bk{font:inherit}.bl{font-size:16px}.bm{opacity:0}.bn{position:relative}.bo{width:0px}.bp{transition:width 140ms ease-in}.bq{color:inherit}.br{fill:inherit}.bs{font-size:inherit}.bt{border:inherit}.bu{font-family:inherit}.bv{letter-spacing:inherit}.bw{font-weight:inherit}.bx{padding:0}.by{margin:0}.bz:hover{cursor:pointer}.ca:hover{color:rgba(0, 0, 0, 0.9)}.cb:hover{fill:rgba(0, 0, 0, 0.9)}.cc:focus{outline:none}.cd:disabled{cursor:default}.ce:disabled{color:rgba(0, 0, 0, 0.54)}.cf:disabled{fill:rgba(0, 0, 0, 0.54)}.cg{margin-left:16px}.ch{margin-right:10px}.cl{margin-right:16px}.cm{visibility:hidden}.cn{padding:4px 12px}.co{color:rgba(0, 0, 0, 0.84)}.cp{background:0}.cq{border-color:rgba(0, 0, 0, 0.54)}.cr:hover{color:rgba(0, 0, 0, 0.97)}.cs:hover{fill:rgba(0, 0, 0, 0.97)}.ct:hover{border-color:rgba(0, 0, 0, 0.84)}.cu:disabled{fill:rgba(0, 0, 0, 0.76)}.cv:disabled{border-color:rgba(0, 0, 0, 0.2)}.cw:disabled{cursor:inherit}.cx:disabled:hover{color:rgba(0, 0, 0, 0.54)}.cy:disabled:hover{fill:rgba(0, 0, 0, 0.76)}.cz:disabled:hover{border-color:rgba(0, 0, 0, 0.2)}.da{border-radius:4px}.db{border-width:1px}.dc{border-style:solid}.dd{box-sizing:border-box}.de{text-decoration:none}.df{padding-bottom:10px}.dg{padding-top:10px}.dh{border-radius:50%}.di{height:32px}.dj{width:32px}.dk{margin-bottom:0px}.dm{padding-left:24px}.dn{padding-right:24px}.do{margin-left:auto}.dp{margin-right:auto}.dq{max-width:728px}.dr{flex-direction:column}.ds{position:absolute}.dt{top:calc(100vh + 100px)}.du{bottom:calc(100vh + 100px)}.dv{width:10px}.dw{pointer-events:none}.dx{word-break:break-word}.dy{word-wrap:break-word}.dz:after{display:block}.ea:after{content:""}.eb:after{clear:both}.ec{max-width:680px}.ed{line-height:1.23}.ee{letter-spacing:0}.ef{font-family:medium-content-title-font, Georgia, Cambria, "Times New Roman", Times, serif}.eg{font-size:40px}.em{margin-bottom:-0.27em}.en{line-height:48px}.eo{margin-top:32px}.ep{justify-content:space-between}.et{height:48px}.eu{width:48px}.ev{margin-left:12px}.ew{margin-bottom:2px}.ey{font-weight:300}.ez{max-height:20px}.fa{display:-webkit-box}.fb{-webkit-line-clamp:1}.fc{-webkit-box-orient:vertical}.fd:hover{text-decoration:underline}.fe{margin-left:8px}.ff{padding:0px 8px}.fg{color:rgba(2, 158, 116, 1)}.fh{fill:rgba(3, 168, 124, 1)}.fi{border-color:rgba(3, 168, 124, 1)}.fj:hover{color:rgba(1, 143, 105, 1)}.fk:hover{fill:rgba(2, 158, 116, 1)}.fl:hover{border-color:rgba(2, 158, 116, 1)}.fm{line-height:18px}.fn{font-size:15px}.fo{align-items:flex-end}.fw{padding-right:8px}.fx{margin-right:-6px}.fy{fill:rgba(0, 0, 0, 0.76)}.fz{clear:both}.gf{transition:opacity 100ms 400ms}.gg{height:100%}.gh{will-change:transform}.gi{transform:translateZ(0)}.gj{margin:auto}.gk{background-color:rgba(0, 0, 0, 0.05)}.gl{padding-bottom:52.5%}.gm{filter:blur(20px)}.gn{transform:scale(1.1)}.go{visibility:visible}.gp{background:rgba(255, 255, 255, 1)}.gq{line-height:1.58}.gr{letter-spacing:-0.004em}.gs{font-family:medium-content-serif-font, Georgia, Cambria, "Times New Roman", Times, serif}.hd{margin-bottom:-0.46em}.he{background-repeat:repeat-x}.hf{background-image:linear-gradient(to right,rgba(0, 0, 0, 0.84) 100%,rgba(0, 0, 0, 0.84) 0);background-image:url('data:image/svg+xml;utf8,<svg preserveAspectRatio="none" viewBox="0 0 1 1" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="1" y2="1" stroke="rgba(0, 0, 0, 0.84)" /></svg>')}.hg{background-size:1px 1px}.hh{background-position:0 1.05em;background-position:0 calc(1em + 1px)}.hi{font-weight:700}.hj{font-style:italic}.hk{padding-bottom:75%}.hl{line-height:1.4}.hm{margin-top:10px}.hn{text-align:center}.hq{font-family:medium-content-slab-serif-font, Georgia, Cambria, "Times New Roman", Times, serif}.hr{font-size:28px}.hs{margin-top:30px}.ht:before{content:"..."}.hu:before{letter-spacing:0.6em}.hv:before{text-indent:0.6em}.hw:before{font-style:italic}.hx:before{line-height:1.4}.hy{line-height:1.12}.hz{letter-spacing:-0.022em}.ia{font-weight:600}.il{margin-bottom:-0.28em}.iz{max-width:1200px}.ja{padding-bottom:5px}.jb{padding-top:5px}.jc{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}.jd{cursor:zoom-in}.je{z-index:auto}.jf{padding-bottom:16.75%}.jg{padding-bottom:NaN%}.jh{padding-bottom:60.083333333333336%}.ji{list-style-type:disc}.jj{margin-left:30px}.jk{padding-left:0px}.jq{padding:2px 4px}.jr{font-size:75%}.js> strong{font-family:inherit}.jt{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.ju{max-width:683px}.jv{padding-bottom:100%}.jw{max-width:1465px}.jx{padding-bottom:46.62116040955631%}.jy{line-height:1.18}.kj{margin-bottom:-0.31em}.kk{max-width:359px}.kl{padding-bottom:190.2506963788301%}.km{list-style-type:decimal}.kn{max-width:750px}.ko{padding-bottom:91.06666666666666%}.kp{padding-bottom:63.59404096834264%}.kv{will-change:opacity}.kw{top:calc(65px + 54px + 40px)}.kz{width:131px}.la{padding-top:28px}.lb{margin-bottom:19px}.lc{margin-left:-5px}.ld{margin-right:5px}.le{outline:0}.lf{border:0}.lg{user-select:none}.lh{cursor:pointer}.li> svg{pointer-events:none}.lj:active{border-style:none}.lk{-webkit-user-select:none}.ll:focus{fill:rgba(0, 0, 0, 0.54)}.lm:hover{fill:rgba(0, 0, 0, 0.54)}.ln{margin-top:5px}.lo button{text-align:left}.lp{width:188px}.lq{left:50%}.lr{transform:translateX(406px)}.ls{top:calc(65px + 54px + 14px)}.lu{margin-top:40px}.lv{flex-wrap:wrap}.lw{margin-top:25px}.lx{list-style-type:none}.ly{margin-right:8px}.lz{margin-bottom:8px}.ma{border-radius:3px}.mb{padding:5px 10px}.mc{background:rgba(0, 0, 0, 0.05)}.md{line-height:22px}.me{margin-top:15px}.mf{border:1px solid rgba(0, 0, 0, 0.1)}.mg{height:60px}.mh{width:60px}.mu:hover{border-color:rgba(0, 0, 0, 0.54)}.mv:active{border-style:solid}.mw{z-index:2}.my{padding-top:32px}.mz{border-top:1px solid rgba(0, 0, 0, 0.1)}.na{margin-bottom:25px}.nb{margin-bottom:32px}.nc{min-height:80px}.nh{height:80px}.ni{width:80px}.nj{padding-left:102px}.nl{text-transform:uppercase}.nm{letter-spacing:0.05em}.nn{margin-bottom:6px}.no{line-height:36px}.np{max-width:555px}.nq{max-width:450px}.nr{font-size:18px}.ns{line-height:24px}.nu{padding-top:25px}.nv{color:rgba(0, 0, 0, 0.76)}.nw{opacity:1}.nx{padding:20px}.ny{border:1px solid rgba(3, 168, 124, 1)}.nz{margin-top:64px}.oa{background-color:rgba(0, 0, 0, 0.02)}.ob{padding:60px 0}.oc{background-color:rgba(0, 0, 0, 0.9)}.ot{padding-bottom:48px}.ou{border-bottom:1px solid rgba(255, 255, 255, 0.54)}.ov{margin:0 -12px}.ow{margin:0 12px}.ox{flex:1 1 0}.oy{padding-bottom:12px}.oz:hover{color:rgba(255, 255, 255, 0.99)}.pa:hover{fill:rgba(255, 255, 255, 0.99)}.pb:disabled{color:rgba(255, 255, 255, 0.7)}.pc:disabled{fill:rgba(255, 255, 255, 0.7)}.pd{color:rgba(255, 255, 255, 0.98)}.pe{fill:rgba(255, 255, 255, 0.98)}.pf{text-align:inherit}.pg{font-size:21.6px}.ph{letter-spacing:-0.32px}.pi{color:rgba(255, 255, 255, 0.7)}.pj{fill:rgba(255, 255, 255, 0.7)}.pk{text-decoration:underline}.pl{padding-bottom:8px}.pm{padding-top:8px}.pn{width:200px}.pp{margin:15px 0}.pq{-webkit-user-select:none}</style><style type="text/css" data-fela-rehydration="431" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.ah{margin:0 64px}.el{margin-top:0.78em}.fv{margin-left:30px}.ge{margin-top:56px}.hb{font-size:21px}.hc{margin-top:2em}.ij{font-size:34px}.ik{margin-top:1.25em}.iq{margin-top:0.86em}.iy{max-width:1192px}.jp{margin-top:1.05em}.kh{font-size:26px}.ki{margin-top:1.72em}.ku{margin-top:1.95em}.oq{padding-left:64px}.or{padding-right:64px}.os{max-width:1320px}</style><style type="text/css" data-fela-rehydration="431" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.fu{margin-left:30px}.ho{margin-left:auto}.hp{text-align:center}.on{padding-left:64px}.oo{padding-right:64px}.op{max-width:1080px}</style><style type="text/css" data-fela-rehydration="431" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.ck{display:flex}.ft{margin-left:30px}.ok{padding-left:48px}.ol{padding-right:48px}.om{max-width:904px}</style><style type="text/css" data-fela-rehydration="431" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.am{height:56px}.an{display:flex}.aq{display:block}.ci{margin-left:10px}.cj{margin-right:10px}.dl{margin-bottom:0px}.er{margin-top:32px}.es{flex-direction:column-reverse}.fr{margin-bottom:30px}.fs{margin-left:0px}.nd{margin-bottom:24px}.ne{align-items:center}.nf{width:102px}.ng{position:relative}.nk{padding-left:0}.nt{margin-top:24px}.od{padding:32px 0}.oh{padding-left:24px}.oi{padding-right:24px}.oj{max-width:728px}.po{width:140px}</style><style type="text/css" data-fela-rehydration="431" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.ac{margin:0 24px}.eh{margin-top:0.39em}.eq{margin-top:32px}.ex{margin-bottom:0px}.fp{margin-bottom:30px}.fq{margin-left:0px}.ga{margin-top:40px}.gt{font-size:18px}.gu{margin-top:1.56em}.ib{font-size:30px}.ic{margin-top:0.93em}.im{margin-top:0.67em}.ir{margin:0}.is{max-width:100%}.jl{margin-top:1.34em}.jz{font-size:24px}.ka{margin-top:1.23em}.kq{margin-top:1.2em}.oe{padding-left:24px}.of{padding-right:24px}.og{max-width:552px}</style><style type="text/css" data-fela-rehydration="431" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.ag{margin:0 64px}.ek{margin-top:0.78em}.gd{margin-top:56px}.gz{font-size:21px}.ha{margin-top:2em}.ih{font-size:34px}.ii{margin-top:1.25em}.ip{margin-top:0.86em}.ix{max-width:1192px}.jo{margin-top:1.05em}.kf{font-size:26px}.kg{margin-top:1.72em}.kt{margin-top:1.95em}</style><style type="text/css" data-fela-rehydration="431" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.af{margin:0 48px}.ej{margin-top:0.78em}.gc{margin-top:56px}.gx{font-size:21px}.gy{margin-top:2em}.if{font-size:34px}.ig{margin-top:1.25em}.io{margin-top:0.86em}.iv{margin:0}.iw{max-width:100%}.jn{margin-top:1.05em}.kd{font-size:26px}.ke{margin-top:1.72em}.ks{margin-top:1.95em}</style><style type="text/css" data-fela-rehydration="431" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.ae{margin:0 24px}.ei{margin-top:0.39em}.gb{margin-top:40px}.gv{font-size:18px}.gw{margin-top:1.56em}.id{font-size:30px}.ie{margin-top:0.93em}.in{margin-top:0.67em}.it{margin:0}.iu{max-width:100%}.jm{margin-top:1.34em}.kb{font-size:24px}.kc{margin-top:1.23em}.kr{margin-top:1.2em}</style><style type="text/css" data-fela-rehydration="431" data-fela-type="RULE" media="print">.ab{display:none}</style><style type="text/css" data-fela-rehydration="431" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.y{transition:transform 300ms ease}.z{will-change:transform}.kx{transition:opacity 200ms}.mi{transition:border-color 150ms ease}.mj::before{background:
      radial-gradient(circle, rgba(0, 0, 0, 0.84) 60%, transparent 70%)
    }.mk::before{border-radius:50%}.ml::before{content:""}.mm::before{display:block}.mn::before{z-index:0}.mo::before{left:0}.mp::before{height:100%}.mq::before{position:absolute}.mr::before{top:0}.ms::before{width:100%}.mt:hover::before{animation:k2 2000ms infinite cubic-bezier(.1,.12,.25,1)}.mx{transition:fill 200ms ease}</style><style type="text/css" data-fela-rehydration="431" data-fela-type="RULE" media="all and (max-width: 1198px)">.ky{display:none}</style><style type="text/css" data-fela-rehydration="431" data-fela-type="RULE" media="all and (max-width: 1230px)">.lt{display:none}</style><script charset="utf-8" src="./How to make a web app for your own Bluetooth Low Energy device__files/vendors_tracing.0154598a.chunk.js"></script><script charset="utf-8" src="./How to make a web app for your own Bluetooth Low Energy device__files/tracing.075b133f.chunk.js"></script><script type="application/ld+json" data-rh="true">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*QVwPTjm63e5UXFMhShbD3g.png"],"url":"https:\u002F\u002Fmedium.com\u002F@loginov_rocks\u002Fhow-to-make-a-web-app-for-your-own-bluetooth-low-energy-device-arduino-2af8d16fdbe8","dateCreated":"2018-08-27T13:34:23.452Z","datePublished":"2018-08-27T13:34:23.452Z","dateModified":"2019-06-07T11:29:25.205Z","headline":"How to make a web app for your own Bluetooth Low Energy device?","name":"How to make a web app for your own Bluetooth Low Energy device?","description":" Some time ago I assembled unpretentious robot arm for fun and decided to control it with smartphone using Bluetooth. At that time I haven’t experience in native application development yet and I was…","identifier":"2af8d16fdbe8","keywords":["Lite:true","Tag:Web Development","Tag:Arduino","Tag:Web Bluetooth","Tag:JavaScript","Tag:Bluetooth Low Energy","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_NONE","LayerCake:4"],"author":{"@type":"Person","name":"Danila Loginov","url":"https:\u002F\u002Fmedium.com\u002F@loginov_rocks"},"creator":["Danila Loginov"],"publisher":{"@type":"Organization","name":"Medium","url":"https:\u002F\u002Fmedium.com\u002F","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F308\u002F1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https:\u002F\u002Fmedium.com\u002F@loginov_rocks\u002Fhow-to-make-a-web-app-for-your-own-bluetooth-low-energy-device-arduino-2af8d16fdbe8"}</script><script type="text/javascript" data-rh="true">(function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent".split(" "), 0);
branch.init('key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm', {metadata: {}, 'no_journeys': true, 'disable_exit_animation': true, 'disable_entry_animation': true, 'tracking_disabled': null}, function(err, data) {});</script><link type="text/css" rel="stylesheet" charset="UTF-8" href="./How to make a web app for your own Bluetooth Low Energy device__files/translateelement.css"></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><script>window.PARSELY = window.PARSELY || {autotrack: false}</script><nav class="r s t u v c w x y z ab" style="transform: translateY(-100%);"><div class="branch-journeys-top"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="al n o am an"><div class="r ao w"><div class="n o"><a href="https://medium.com/?source=post_page-----2af8d16fdbe8----------------------" aria-label="Homepage" rel="noopener"><div class="ap g"><svg height="22" width="112" viewBox="0 0 111.5 22" class="q"><path d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z"></path></svg></div><div class="r aq"><svg width="35" height="35" viewBox="5 5 35 35" class="q"><path d="M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.69-.32 1.03L10.8 31.4v.4h6.97v-.4L15.3 28.4c-.29-.34-.34-.5-.34-1.03v-8.95l6.13 13.36h.71l5.26-13.36v10.64c0 .3 0 .35-.19.53l-1.85 1.8v.4h9.2v-.4l-1.83-1.8c-.18-.18-.2-.24-.2-.53V15.94c0-.3.02-.35.2-.53l1.82-1.8v-.4h-6.47l-4.62 11.55-5.2-11.54h-6.8v.4l2.15 2.63c.24.3.29.37.29.77v10.35z"></path></svg></div></a></div></div><div class="r ar w"><span class="as b at au av aw r ax ay"><div class="n o az"><div class="n f"><div class="bh" aria-hidden="true"><div class="n"><button class="bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf"><svg width="25" height="25" viewBox="0 0 25 25" class="cg ch r ci cj"><path d="M20.07 18.93l-4.16-4.15a6 6 0 1 0-.88.88l4.15 4.16a.62.62 0 1 0 .89-.89zM6.5 11a4.75 4.75 0 1 1 9.5 0 4.75 4.75 0 0 1-9.5 0z"></path></svg></button><input class="bi bj bk bl au bm bn bo bp" placeholder="Search Medium" value=""></div></div></div><div class="ap ck"><a href="https://medium.com/search?source=post_page-----2af8d16fdbe8----------------------" class="bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25" class="cg cl r ci cj"><path d="M20.07 18.93l-4.16-4.15a6 6 0 1 0-.88.88l4.15 4.16a.62.62 0 1 0 .89-.89zM6.5 11a4.75 4.75 0 1 1 9.5 0 4.75 4.75 0 0 1-9.5 0z"></path></svg></a></div><div class="cl n cj"><div class="bh" aria-hidden="true"><button class="bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf r"><svg width="25" height="25" viewBox="-293 409 25 25" class="pp r"><path d="M-273.33 423.67l-1.67-1.52v-3.65a5.5 5.5 0 0 0-6.04-5.47 5.66 5.66 0 0 0-4.96 5.71v3.41l-1.68 1.55a1 1 0 0 0-.32.74V427a1 1 0 0 0 1 1h3.49a3.08 3.08 0 0 0 3.01 2.45 3.08 3.08 0 0 0 3.01-2.45h3.49a1 1 0 0 0 1-1v-2.59a1 1 0 0 0-.33-.74zm-7.17 5.63c-.84 0-1.55-.55-1.81-1.3h3.62a1.92 1.92 0 0 1-1.81 1.3zm6.35-2.45h-12.7v-2.35l1.63-1.5c.24-.22.37-.53.37-.85v-3.41a4.51 4.51 0 0 1 3.92-4.57 4.35 4.35 0 0 1 4.78 4.33v3.65c0 .32.14.63.38.85l1.62 1.48v2.37z"></path></svg></button></div></div><div class="go" id="li-post-page-navbar-upsell-button"><div class="cl r g"><div><a href="https://medium.com/membership?source=upgrade_membership---nav_full------------------------" class="cn co q cp cq cr cs ct bz ce cu cv cw cx cy cz da as b at au av aw db dc dd bh de cc" rel="noopener">Upgrade</a></div></div></div><div class="n" aria-hidden="true"><div class="df dg n o"><button class="bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf"><img alt="Alanfabcast" class="r dh di dj" src="./How to make a web app for your own Bluetooth Low Energy device__files/0_aID1Y-bR3loxYgMe.jpg" width="32" height="32"></button></div></div></div></span></div></div></div></div></div></nav><div class="dk al r dl am"></div><article><section class="dm dn do dp ak dq dd n dr"></section><span class="r"></span><div><div class="ds u dt du dv dw"></div><section class="dx dy dz ea eb"><div class="n p"><div class="ac ae af ag ah ec aj ak"><div><div id="d1a1" class="ed ee co at ef b eg eh ei ej ek el em"><h1 class="ef b eg en co">How to make a web app for your own Bluetooth Low Energy device?</h1></div><div class="eo"><div class="n ep eq er es"><div class="o n"><div><a rel="noopener" href="https://medium.com/@loginov_rocks?source=post_page-----2af8d16fdbe8----------------------"><img alt="Danila Loginov" class="r dh et eu" src="./How to make a web app for your own Bluetooth Low Energy device__files/2_H46vP_0s478ZbIZ8bQRI_g.jpeg" width="48" height="48"></a></div><div class="ev ak r"><div class="n"><div style="flex:1"><span class="as b at au av aw r co q"><div class="ew n o ex"><span class="as ey bl au bf ez be fa fb fc co"><a class="bq br bs bt bu bv bw bx by bz fd cc cd ce cf" rel="noopener" href="https://medium.com/@loginov_rocks?source=post_page-----2af8d16fdbe8----------------------">Danila Loginov</a></span><div class="fe r ar h"><button class="ff cp fg fh fi fj fk fl bz da as b at fm fn aw db dc dd bh de cc">Follow</button></div></div></span></div></div><span class="as b at au av aw r ax ay"><span class="as ey bl au bf ez be fa fb fc ax"><div><a class="bq br bs bt bu bv bw bx by bz fd cc cd ce cf" rel="noopener" href="https://medium.com/@loginov_rocks/how-to-make-a-web-app-for-your-own-bluetooth-low-energy-device-arduino-2af8d16fdbe8?source=post_page-----2af8d16fdbe8----------------------">Aug 27, 2018</a> <!-- -->·<!-- --> <!-- -->15<!-- --> min read</div></span></span></div></div><div class="n fo fp fq fr fs ft fu fv ab"><div class="n o"><div class="fw r ar"><a href="https://medium.com/p/2af8d16fdbe8/share/twitter?source=post_actions_header---------------------------" class="bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf" target="_blank" rel="noopener"><svg width="29" height="29" class="q"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div><div class="fw r ar"><a href="https://medium.com/p/2af8d16fdbe8/share/facebook?source=post_actions_header---------------------------" class="bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf" target="_blank" rel="noopener"><svg width="29" height="29" class="q"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div><div class="fx r ao"><div class="fy"><div><div class="bh" role="tooltip" aria-hidden="true" aria-describedby="1" aria-labelledby="1"><button class="bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></div></div></div></div><div class="fz ak"><figure class="ga gb gc gd ge fz ak paragraph-image"><div class="gj r bn gk"><div class="gl r"><div class="bm gf ds t u gg ak bf gh gi"><img class="ds t u gg ak gm gn cm ps" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_QVwPTjm63e5UXFMhShbD3g.png" width="1200" height="630" role="presentation"></div><img class="nw pr ds t u gg ak gp" width="1200" height="630" role="presentation" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_QVwPTjm63e5UXFMhShbD3g(1).png"><noscript><img class="ds t u gg ak" src="https://miro.medium.com/max/2400/1*QVwPTjm63e5UXFMhShbD3g.png" width="1200" height="630" role="presentation"/></noscript></div></div></figure></div><div class="n p"><div class="ac ae af ag ah ec aj ak"><p id="682c" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Some time ago I assembled unpretentious robot arm for fun and decided to control it with smartphone using Bluetooth. At that time I haven’t experience in native application development yet and I was already familiar with <a href="https://cordova.apache.org/" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">Apache Cordova</a>, but I thought it would be interesting to use <strong class="gs hi">Web Bluetooth API</strong>, flavoring it by <strong class="gs hi">Progressive Web Apps</strong> features.</p><p id="09e3" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">At first glance it may seem there are enough of articles for the keywords: there is a Web Bluetooth <a href="https://webbluetoothcg.github.io/web-bluetooth/" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">specification</a>, <a href="https://developers.google.com/web/updates/2015/07/interact-with-ble-devices-on-the-web" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">a detailed article</a> in the Google Developer blog providing <a href="https://googlechrome.github.io/samples/web-bluetooth/" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">examples</a>, there is <a href="https://geektimes.ru/post/276558/" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">a thorough analysis (in Russian)</a> of Bluetooth Low Energy, examples of reverse engineering of the protocols for various BLE devices and even of blinking “smart” bulbs and getting data from fitness wristbands right from the browser — <em class="hj">what can go wrong?</em></p><p id="c209" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">I supposed so until I tried to build my own device and to chat with it from the browser. I will not dive deeply, just share my hands-on experience and code, since it would be very useful to me when I started :)</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="hk r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/media.html" allowfullscreen="" frameborder="0" height="480" width="640" title="Web Bluetooth Terminal" class="ds t u gg ak" scrolling="auto"></iframe></div></div><figcaption class="ax bl hl hm hn dq do dp ho hp as ey">It works!</figcaption></figure></div></div></section><hr class="hq ey hr bi hs hn ht hu hv hw hx"><section class="dx dy dz ea eb"><div class="n p"><div class="ac ae af ag ah ec aj ak"><h1 id="d7a3" class="hy hz co at as ia ib ic id ie if ig ih ii ij ik il" data-selectable-paragraph="">Challenge</h1><p id="b8a8" class="gq gr co at gs b gt im gv in gx io gz ip hb iq hd" data-selectable-paragraph="">So you built a device, decided to equip it with Bluetooth module and to get access to it from the browser. Hereinafter there will be a picture of wiring a Bluetooth module to <strong class="gs hi">Arduino Uno</strong>, so let it be a device based on Arduino, although, of course, there is no fundamental difference whether you use <strong class="gs hi">STM</strong>, <strong class="gs hi">Raspberry</strong>, <strong class="gs hi">ESP8266</strong> or anything else. The one thing important is that your controller will work with the Bluetooth module using the UART protocol (read more on <a href="https://en.wikipedia.org/wiki/Universal_asynchronous_receiver-transmitter" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">Wikipedia</a>).</p><p id="11bb" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">If you, just like me, have already mounted the good old Bluetooth module <strong class="gs hi">HC-05</strong> to your device, uploaded a firmware, launched some of Google examples and can’t understand the browser doesn’t detect your device, then I’m sorry to disappoint you: Web Bluetooth supports only the “Bluetooth 4 standard”.</p><p id="631d" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">This is the reason to write this article, because when you, as well as I, will return satisfied from the nearest store with the BLE module blazing (<strong class="gs hi">HM-10</strong>, for example), you will find that it works quite differently and, what is more important, not supports the <strong class="gs hi">Serial Port Profile</strong>, by which you are used to carelessly drive bytes back and forth.</p><p id="47dd" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Probably you’re familiar with <strong class="gs hi">Bluetooth Low Energy</strong> concept already, especially with <strong class="gs hi">Generic Attribute Profile</strong> (GATT), but I’ll try to explain shortly what is important for us now: <em class="hj">instead of DIY serial protocol, your device should expose a set of applied “characteristics”, which can be read and/or change by connected device.</em></p><p id="6f40" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Robotic arm for example: it moves in space by three coordinates (X, Y, Z numbers), it can open (0) or close (1) a claw. It means we should configure BLE module to read and write 4 characteristics, which can be discovered, read and overridden with desired values by a connected device.</p><p id="115f" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">And it’s great, but here’s the thing: ordinary “hobby” level BLE modules that you’ll meet in the “next store” or on Aliexpress: HM-10, JDY-08, AT-09, some CC41-A that I got, or others — don’t have the ability to configure any services or characteristics.</p><p id="2035" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Instead, they provide only one characteristic that emulates a serial port, and everything you write down there, module will send to your controller via TX, and everything you send from the controller to the module RX, it will send to the connected device. BTW, with a limit of 20 bytes, inherent in any BLE characteristic, by the way.</p><p id="0549" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Thus, despite the fact that Web Bluetooth is limited to using the profile of common attributes, we will actually have to do a serial port profile on top of it for “domestic” use.</p></div></div></section><hr class="hq ey hr bi hs hn ht hu hv hw hx"><section class="dx dy dz ea eb"><div class="n p"><div class="ac ae af ag ah ec aj ak"><h1 id="e43a" class="hy hz co at as ia ib ic id ie if ig ih ii ij ik il" data-selectable-paragraph="">Bluetooth Low Energy module configuration</h1><p id="50e1" class="gq gr co at gs b gt im gv in gx io gz ip hb iq hd" data-selectable-paragraph="">First of all, let’s configure the BLE module, it doesn’t take much time, if you know what to do. It turned out that I had a <strong class="gs hi">CC41-A </strong>module on the <strong class="gs hi">Texas Instruments CC2541 </strong>chip, which cost me around 5$ in the “next store”. So an example, I will describe its configuration, but the essence is common for other modules using a similar chip.</p></div></div><div class="fz"><div class="n p"><div class="ir is it iu iv iw ag ix ah iy aj ak"><figure class="ga gb gc gd ge fz ja jb paragraph-image"><div class="jc jd bn je ak"><div class="do dp iz"><div class="gj r bn gk"><div class="gl r"><div class="bm gf ds t u gg ak bf gh gi"><img class="ds t u gg ak gm gn cm ps" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_UVcZYU9f6uxsurXMVF5foQ.png" width="1200" height="630" role="presentation"></div><img class="nw pr ds t u gg ak gp" width="1200" height="630" role="presentation" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_UVcZYU9f6uxsurXMVF5foQ(1).png"><noscript><img class="ds t u gg ak" src="https://miro.medium.com/max/2400/1*UVcZYU9f6uxsurXMVF5foQ.png" width="1200" height="630" role="presentation"/></noscript></div></div></div></div><figcaption class="ax bl hl hm hn dq do dp ho hp as ey" data-selectable-paragraph="">BLE module pinout for HM-10 as an example</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah ec aj ak"><p id="c6d9" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">If you have a <strong class="gs hi">USB-TTL converter</strong>, just connect the BLE module to it and you will have direct access to the module from your computer via the COM port. <em class="hj">Pay attention to the description of your module, maybe it works with 3.3V logic, in this case you will need to use a voltage level shifter for TX-RX and RX-TX lines.</em> The CC41-A module, despite the fact that “LEVEL:3.3V” is written on it, handles 5V logic.</p></div></div><div class="fz"><div class="n p"><div class="ir is it iu iv iw ag ix ah iy aj ak"><figure class="ga gb gc gd ge fz ja jb paragraph-image"><div class="jc jd bn je ak"><div class="do dp iz"><div class="gj r bn gk"><div class="jf r"><div class="bm gf ds t u gg ak bf gh gi"><img class="ds t u gg ak gm gn cm ps" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_0dKid18m8dJ_3kME-24_lA.png" width="1200" height="201" role="presentation"></div><img class="nw pr ds t u gg ak gp" width="1200" height="201" role="presentation" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_0dKid18m8dJ_3kME-24_lA(1).png"><noscript><img class="ds t u gg ak" src="https://miro.medium.com/max/2400/1*0dKid18m8dJ_3kME-24_lA.png" width="1200" height="201" role="presentation"/></noscript></div></div></div></div><figcaption class="ax bl hl hm hn dq do dp ho hp as ey" data-selectable-paragraph="">Wiring BLE module to the USB-TTL converter</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah ec aj ak"><p id="a205" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Instead of using the converter, you can take your controller, implementing the simplest serial bridge: everything you send to one serial port will be transfered to another, and vice versa. In the case of Arduino Uno, you will need to use the <strong class="gs hi">SoftwareSerial </strong>library:</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="qj r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/bc9167129d11dc408c43a699377327ff.html" allowfullscreen="" frameborder="0" height="477" width="680" title="Arduino-Uno-Bridge.ino" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure></div></div><div class="fz"><div class="n p"><div class="ir is it iu iv iw ag ix ah iy aj ak"><figure class="ga gb gc gd ge fz ja jb paragraph-image"><div class="jc jd bn je ak"><div class="do dp iz"><div class="gj r bn gk"><div class="jh r"><div class="bm gf ds t u gg ak bf gh gi"><img class="ds t u gg ak gm gn cm ps" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_YHjXoR992iVMYz1NUp_NQw.png" width="1200" height="721" role="presentation"></div><img class="nw pr ds t u gg ak gp" width="1200" height="721" role="presentation" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_YHjXoR992iVMYz1NUp_NQw(1).png"><noscript><img class="ds t u gg ak" src="https://miro.medium.com/max/2400/1*YHjXoR992iVMYz1NUp_NQw.png" width="1200" height="721" role="presentation"/></noscript></div></div></div></div><figcaption class="ax bl hl hm hn dq do dp ho hp as ey" data-selectable-paragraph="">Wiring BLE module to the Arduino Uno</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah ec aj ak"><p id="c69d" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Start the terminal program (you can use the Serial Monitor from Arduino IDE, I prefer <a href="https://sites.google.com/site/terminalbpp/" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">Bray’s Terminal</a>) and connect to the COM port on which the BLE module hangs with the standard settings:</p><ul class=""><li id="a329" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd ji jj jk" data-selectable-paragraph="">Baud rate: <strong class="gs hi">9600</strong></li><li id="8281" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph="">Data bits: <strong class="gs hi">8</strong></li><li id="1d26" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph="">Parity: <strong class="gs hi">none</strong></li><li id="9404" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph="">Stop bits: <strong class="gs hi">1</strong></li><li id="0a6b" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph="">Handshaking: <strong class="gs hi">none</strong></li></ul><p id="7fe6" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">In standby mode, the module responds to <strong class="gs hi">AT commands </strong>ending with carriage return and line feed (<code class="gk jq jr js jt b">CR+LF</code>, the “Both NL &amp; CR” option in the Serial Monitor). Some BLE modules work at a different speed by default, for example, at 38400, some modules enter into the configuration mode after pressing a button located on their board, some modules do not require commands to be in uppercase — check your module specifications.</p><figure class="ga gb gc gd ge fz do dp paragraph-image"><div class="do dp ju"><div class="gj r bn gk"><div class="jv r"><div class="bm gf ds t u gg ak bf gh gi"><img class="ds t u gg ak gm gn cm ps" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_r3c2L0ZQjmdOGPLfPpFsUA.png" width="683" height="683" role="presentation"></div><img class="nw pr ds t u gg ak gp" width="683" height="683" role="presentation" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_r3c2L0ZQjmdOGPLfPpFsUA(1).png"><noscript><img class="ds t u gg ak" src="https://miro.medium.com/max/1366/1*r3c2L0ZQjmdOGPLfPpFsUA.png" width="683" height="683" role="presentation"/></noscript></div></div></div><figcaption class="ax bl hl hm hn dq do dp ho hp as ey" data-selectable-paragraph="">Terminal window during BLE module configuration</figcaption></figure><p id="a36f" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Let’s send the “AT” command to check the connection. The module should respond “OK” — it means everything is OK. In fact, it’s enough to make sure that the module works in the slave mode, waiting for the connection of the master, the UUID of the service is <code class="gk jq jr js jt b">0xFFE0</code>, and the UUID of the characteristic is set to <code class="gk jq jr js jt b">0xFFE1</code> — it will be needed later. Here are some commands that work with my module:</p><ul class=""><li id="c122" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd ji jj jk" data-selectable-paragraph=""><code class="gk jq jr js jt b">AT</code> — check operability;</li><li id="cba1" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph=""><code class="gk jq jr js jt b">AT+HELP</code> — output all commands;</li><li id="2d4d" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph=""><code class="gk jq jr js jt b">AT+DEFAULT</code> — reset factory settings;</li><li id="e52a" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph=""><code class="gk jq jr js jt b">AT+RESET</code> — soft reset;</li><li id="1d25" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph=""><code class="gk jq jr js jt b">AT+ROLE</code> — output current mode;</li><li id="8a40" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph=""><code class="gk jq jr js jt b">AT+ROLE0</code> — set slave mode;</li><li id="cbd8" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph=""><code class="gk jq jr js jt b">AT+NAME</code> — output module name;</li><li id="96a9" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph=""><code class="gk jq jr js jt b">AT+NAMESimon</code> — set module name as <code class="gk jq jr js jt b">Simon</code>;</li><li id="d791" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph=""><code class="gk jq jr js jt b">AT+PIN</code> — output PIN code (password) for pairing;</li><li id="e319" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph=""><code class="gk jq jr js jt b">AT+PIN123456</code> —set PIN code as <code class="gk jq jr js jt b">123456</code>;</li><li id="1d2e" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph=""><code class="gk jq jr js jt b">AT+UUID</code> — output service UUID;</li><li id="302f" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph=""><code class="gk jq jr js jt b">AT+UUID0xFFE0</code> — set service UUID as <code class="gk jq jr js jt b">0xFFE0</code>;</li><li id="90a1" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph=""><code class="gk jq jr js jt b">AT+CHAR</code> — output characteristic UUD;</li><li id="b7e5" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd ji jj jk" data-selectable-paragraph=""><code class="gk jq jr js jt b">AT+CHAR0xFFE1</code> — set characteristic UUID as <code class="gk jq jr js jt b">0xFFE1</code>.</li></ul><p id="01fc" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Now you can try to connect to the BLE module, for example from the <a href="https://googlechrome.github.io/samples/web-bluetooth/characteristic-properties.html" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">Characteristic Properties Sample</a> page, specifying “0xFFE0” as a service and “0xFFE1” as a characteristic. Or even to send something from the terminal to the browser using the <a href="https://googlechrome.github.io/samples/web-bluetooth/notifications.html" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">Notifications Sample</a> page.</p></div></div><div class="fz"><div class="n p"><div class="ir is it iu iv iw ag ix ah iy aj ak"><figure class="ga gb gc gd ge fz ja jb paragraph-image"><div class="jc jd bn je ak"><div class="do dp jw"><div class="gj r bn gk"><div class="jx r"><div class="bm gf ds t u gg ak bf gh gi"><img class="ds t u gg ak gm gn cm ps" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_rGENkdZvMnntOKiGWngKvw.png" width="1465" height="683" role="presentation"></div><img class="nw pr ds t u gg ak gp" width="1465" height="683" role="presentation" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_rGENkdZvMnntOKiGWngKvw(1).png"><noscript><img class="ds t u gg ak" src="https://miro.medium.com/max/2930/1*rGENkdZvMnntOKiGWngKvw.png" width="1465" height="683" role="presentation"/></noscript></div></div></div></div><figcaption class="ax bl hl hm hn dq do dp ho hp as ey" data-selectable-paragraph="">Receiving information about the characteristic and the data sent from the terminal</figcaption></figure></div></div></div></section><hr class="hq ey hr bi hs hn ht hu hv hw hx"><section class="dx dy dz ea eb"><div class="n p"><div class="ac ae af ag ah ec aj ak"><h1 id="fa65" class="hy hz co at as ia ib ic id ie if ig ih ii ij ik il" data-selectable-paragraph="">Building a web app</h1><p id="2de8" class="gq gr co at gs b gt im gv in gx io gz ip hb iq hd" data-selectable-paragraph="">Warm up is over, now to the interesting part!</p><h2 id="7a75" class="jy hz co at as ia jz ka kb kc kd ke kf kg kh ki kj" data-selectable-paragraph="">Concept</h2><p id="5b96" class="gq gr co at gs b gt im gv in gx io gz ip hb iq hd" data-selectable-paragraph="">Let’s consider the concept of your device control. You create a UI with a variety of controls that will interact with your device building an ordinary HTML page in the browser.</p><figure class="ga gb gc gd ge fz do dp paragraph-image"><div class="do dp kk"><div class="gj r bn gk"><div class="kl r"><div class="bm gf ds t u gg ak bf gh gi"><img class="ds t u gg ak gm gn cm ps" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_RwT2bS7IA5SzUZRFRagpMw.png" width="359" height="683" role="presentation"></div><img class="nw pr ds t u gg ak gp" width="359" height="683" role="presentation" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_RwT2bS7IA5SzUZRFRagpMw(1).png"><noscript><img class="ds t u gg ak" src="https://miro.medium.com/max/718/1*RwT2bS7IA5SzUZRFRagpMw.png" width="359" height="683" role="presentation"/></noscript></div></div></div><figcaption class="ax bl hl hm hn dq do dp ho hp as ey" data-selectable-paragraph="">Example of the app UI to control robotic arm</figcaption></figure><p id="83b8" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">If it’s a robotic arm moving in three coordinates and opening and closing the claw, then it can be three numerical sliders or even a 2D surface, when you click on which the values of X and Y are calculated, one slider for movement along the Z axis and a button, opening or closing the claw. If it’s a kettle, you can make a button “Boil it!”. If it’s a RC car, you can make the “forward”, “backward”, “leftward”, “rightward”, “turn on / off the headlights”, “give a signal” buttons, etc.</p></div></div><div class="fz"><div class="n p"><div class="ir is it iu iv iw ag ix ah iy aj ak"><figure class="ga gb gc gd ge fz ja jb paragraph-image"><div class="jc jd bn je ak"><div class="do dp iz"><div class="gj r bn gk"><div class="gl r"><div class="bm gf ds t u gg ak bf gh gi"><img class="ds t u gg ak gm gn cm ps" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_64wfse0ziVvemJOdvWOPyA.png" width="1200" height="630" role="presentation"></div><img class="nw pr ds t u gg ak gp" width="1200" height="630" role="presentation" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_64wfse0ziVvemJOdvWOPyA(1).png"><noscript><img class="ds t u gg ak" src="https://miro.medium.com/max/2400/1*64wfse0ziVvemJOdvWOPyA.png" width="1200" height="630" role="presentation"/></noscript></div></div></div></div><figcaption class="ax bl hl hm hn dq do dp ho hp as ey" data-selectable-paragraph="">The overall picture of what happens under the hood</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah ec aj ak"><p id="542a" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Defining the handlers for clicking or changing the states of certain UI elements in JavaScript, you form a message that you send via the Web Bluetooth API to your device. The BLE module receives the message, forwards it to the controller via UART, the controller parses the message, takes the required actions and can send a response or an error as a message back to the BLE module using the same UART, then the module will pass it to the connected device, and you receive a response with the help of JS in the browser.</p><p id="7b59" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">For example, when you press the claw closure button, the <code class="gk jq jr js jt b">onclick</code> button handler is triggered, which sends the <code class="gk jq jr js jt b">GRIPPER=CLOSE</code> message. The controller receives a message, understands what it’s required to do, closes the claw and sends back the <code class="gk jq jr js jt b">GRIPPER=CLOSED</code> message. Processing this message, we remember the state of the claw in JS and change the text on the button to “Open”.</p><h2 id="6fc7" class="jy hz co at as ia jz ka kb kc kd ke kf kg kh ki kj" data-selectable-paragraph="">Objective</h2><p id="004b" class="gq gr co at gs b gt im gv in gx io gz ip hb iq hd" data-selectable-paragraph="">Creating an HTML page (UI) and simple work with JavaScript event handlers is not such a complicated matter and there is enough basic knowledge of web technologies. Therefore, I propose to abstract from a specific device and <strong class="gs hi">create a terminal application that will connect to your device and exchange messages with it.</strong></p><p id="a034" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Also we’ll implement <strong class="gs hi">the logging of the connecting</strong> to Bluetooth Low Energy device process, <strong class="gs hi">reconnection in case of break of communication</strong> and <strong class="gs hi">bypass the 20 bytes limitation</strong> of the BLE characteristic length.</p><p id="4c4c" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Well, in the end we’ll turn the usual HTML page into a <strong class="gs hi">progressive web application</strong> (<a href="https://developers.google.com/web/progressive-web-apps/" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">Google Developers</a>, <a href="https://en.wikipedia.org/wiki/Progressive_web_app" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">Wikipedia</a>), which can be installed to the smartphone homescreen and used offline.</p><p id="7477" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Having ability to exchange messages between an HTML page and your device, a stable connection and a simple API, it’s easy to sharpen the application for your needs.</p><h2 id="fdb6" class="jy hz co at as ia jz ka kb kc kd ke kf kg kh ki kj" data-selectable-paragraph="">Preparation</h2><p id="2f31" class="gq gr co at gs b gt im gv in gx io gz ip hb iq hd" data-selectable-paragraph="">Appart of your favorite <strong class="gs hi">IDE</strong>, you will need a working “<strong class="gs hi">device</strong>”, which we configured earlier, it’ll help to receive and send messages in real time through the terminal program on the computer for application testing.</p><p id="7b92" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Web Bluetooth API is available by default in <strong class="gs hi">Chrome 56+</strong> and <strong class="gs hi">Opera 43+</strong>. The Google Developers <a href="https://developers.google.com/web/updates/2015/07/interact-with-ble-devices-on-the-web" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">article</a> also mentions that in Linux you need to enable <code class="gk jq jr js jt b">chrome://flags/#enable-experimental-web-platform-features</code> flag and restart the browser.</p><p id="a1c7" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">And the last important point: a web app should be served using <strong class="gs hi">HTTPS</strong> (you can use <a href="https://pages.github.com/" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">GitHub Pages</a>) or from the http://localhost — these are security requirements.</p><h2 id="ab4e" class="jy hz co at as ia jz ka kb kc kd ke kf kg kh ki kj" data-selectable-paragraph="">UI</h2><p id="414f" class="gq gr co at gs b gt im gv in gx io gz ip hb iq hd" data-selectable-paragraph="">App will consist of one <code class="gk jq jr js jt b">index.html</code> page, one <code class="gk jq jr js jt b">styles.css</code> and one <code class="gk jq jr js jt b">main.js</code> file, the latter will contain all the magic.</p><p id="0493" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Let’s make a button to connect to the device, a button to disconect, div-container for messages and a form with a text field and a “Send” button:</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="px r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/64352ce8c22799b23624077cfb915d85.html" allowfullscreen="" frameborder="0" height="565" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 1" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="124d" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Div-container will log connection process, output incoming and outcoming messages in the follow manner:</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="qa r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/b9a3a65eea359ad7ce4167da9af1e961.html" allowfullscreen="" frameborder="0" height="147" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 2" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="9641" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">In order not to guess messages source, let’s divide them by colors:</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="qe r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/d06ca4054dd5b8122c38ec41f96ccfe1.html" allowfullscreen="" frameborder="0" height="279" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 3" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="35bb" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">As you can see, nothing special. The interface is ready :)</p><h2 id="8147" class="jy hz co at as ia jz ka kb kc kd ke kf kg kh ki kj" data-selectable-paragraph="">Event handlers</h2><p id="6c6b" class="gq gr co at gs b gt im gv in gx io gz ip hb iq hd" data-selectable-paragraph="">Further work will occur in the <code class="gk jq jr js jt b">main.js</code> file.</p><p id="815f" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Let’s get references to UI elements, set up handlers on the connect and disconnect buttons click and on the form submit:</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="py r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/a5ca8fc7816fff3dd3db139e70c7e894.html" allowfullscreen="" frameborder="0" height="895" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 4" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><h2 id="4bac" class="jy hz co at as ia jz ka kb kc kd ke kf kg kh ki kj" data-selectable-paragraph="">Connecting to the device</h2><p id="6636" class="gq gr co at gs b gt im gv in gx io gz ip hb iq hd" data-selectable-paragraph="">Complete connection algorithm consists of several steps:</p><ol class=""><li id="152a" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd km jj jk" data-selectable-paragraph="">Bluetooth device request: the browser starts the search of the nearest device and choose dialog, the user makes a choice, the app code gets the object.</li><li id="b0cd" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd km jj jk" data-selectable-paragraph="">Connecting to the selected device fom the app code:<br>a) connection to the GATT server,<br>b) getting the desired service,<br>c) getting the desired characteristic.</li><li id="6a13" class="gq gr co at gs b gt jl gv jm gx jn gz jo hb jp hd km jj jk" data-selectable-paragraph="">Enabling the characteristic changes notification — it’s necessary to receive messages from your device.</li></ol><p id="0fb6" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Arrange in the code:</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="pu r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/5557dd669812c4ac9ec817c51b0da6e9.html" allowfullscreen="" frameborder="0" height="697" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 5" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="f964" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">So we implemented Promises chain representing connection steps in <code class="gk jq jr js jt b">connect()</code> function.</p><p id="7c25" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">We also defined the <code class="gk jq jr js jt b">deviceCache</code> variable, which will store object of the device selected by the user in order to reconnect to in case of disconnection.</p><p id="995d" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">The first line of the <code class="gk jq jr js jt b">connect()</code> function body: if the <code class="gk jq jr js jt b">deviceCache</code> object is nonzero the ternary operator returns a Promise immediately fulfilled, otherwise it accesses to the Bluetooth device request function. Thus, when the “Connect” button is pressed if the user has already connected to the device, the device selection dialog does not appear.</p><p id="faf4" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">We output error to the terminal with the help of <code class="gk jq jr js jt b">log()</code> function, if it occurs at any step. This function will be implemented later.</p><p id="1713" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph=""><strong class="gs hi">Bluetooth device request</strong></p><p id="2e0d" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">In order to request Bluetooth device selection, it’s needed to invoke <code class="gk jq jr js jt b">navigator.bluetooth.requestDevice()</code> with object-configuration as required argument, which describes in what type of Bluetooth devices we interested in. It’s possible to filter by service, by name, it’s possible to request all types of devices, however we still have to specify service we want to work with, otherwise browser will not allow us to access to it.</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="qh r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/f7c15393934eed05844015599560cbc1.html" allowfullscreen="" frameborder="0" height="323" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 6" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="9d08" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">We are requesting all devices that provide a service with <code class="gk jq jr js jt b">0xFFE0</code> UUID, the same as configured in the BLE module. Promise fulfilled with the selected device object, so we cache it and return.</p><p id="e26a" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph=""><strong class="gs hi">Connecting to the device, getting service and characteristic objects</strong></p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="qi r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/806fbd2a7d74a6bdb57e79b5ca6e54ee.html" allowfullscreen="" frameborder="0" height="675" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 7" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="8a31" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">We perform a simple Promise chain, which speaks for itself. The <code class="gk jq jr js jt b">characteristicCache </code>variable — similar to <code class="gk jq jr js jt b">deviceCache </code>— saves the received characteristic object, it will be required to write data to it, in other words to send a message from the browser to the device.</p><p id="c74e" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">UUIDs configured in the BLE module used as an argument n <code class="gk jq jr js jt b">getPrimaryService()</code> and<code class="gk jq jr js jt b">getCharacteristic()</code> functions.</p><p id="6af9" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph=""><strong class="gs hi">Enabling the characteristic changes notification</strong></p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="pw r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/40bbc9354df09f59f5a1b47ad06c4995.html" allowfullscreen="" frameborder="0" height="235" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 8" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="63a7" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">It is enough to call the <code class="gk jq jr js jt b">startNotifications()</code> method of the characteristic object, and listen for the characteristic change event after, but more on that later.</p><p id="bd54" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph=""><strong class="gs hi">Output to the terminal</strong></p><p id="9cbb" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Let’s implement a function to output to the terminal, to test the connection to the device right now:</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="qa r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/4aedc5eceae958d620e6148666398eb9.html" allowfullscreen="" frameborder="0" height="147" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 9" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="d413" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">We insert a div with the class specified in the <code class="gk jq jr js jt b">type</code> argument to the end of the terminal div-container using the <code class="gk jq jr js jt b">insertAdjacentHTML()</code> method — easy peasy.</p><p id="dc80" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph=""><strong class="gs hi">Testing</strong></p><p id="8aef" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Open the page in the browser, click the “Connect” button, and then the device selection dialog will start. Connect to your device, and the terminal will output messages about the connection process.</p><figure class="ga gb gc gd ge fz do dp paragraph-image"><div class="jc jd bn je ak"><div class="do dp kn"><div class="gj r bn gk"><div class="ko r"><div class="bm gf ds t u gg ak bf gh gi"><img class="ds t u gg ak gm gn cm ps" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_D4zGdmOt7zBuf3BP8S485g.png" width="750" height="683" role="presentation"></div><img class="nw pr ds t u gg ak gp" width="750" height="683" role="presentation" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_D4zGdmOt7zBuf3BP8S485g(1).png"><noscript><img class="ds t u gg ak" src="https://miro.medium.com/max/1500/1*D4zGdmOt7zBuf3BP8S485g.png" width="750" height="683" role="presentation"/></noscript></div></div></div></div><figcaption class="ax bl hl hm hn dq do dp ho hp as ey" data-selectable-paragraph="">Device selection and connection</figcaption></figure><p id="a181" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Here I run into a bluetooth connection problem that wasn’t described in the Internet. Service messages output helped diagnose and fix it. The connection can suddenly be lost for no apparent reason, and the browser does not provide its maintenance, that’s why we need to implement the reconnection functionality on our own.</p><h2 id="db73" class="jy hz co at as ia jz ka kb kc kd ke kf kg kh ki kj" data-selectable-paragraph="">Automatic reconnection</h2><p id="c0dc" class="gq gr co at gs b gt im gv in gx io gz ip hb iq hd" data-selectable-paragraph="">Web Bluetooth offers a <code class="gk jq jr js jt b">gattserverdisconnected</code> event for the device object to track the disconnection. The most actual place to define a listener is in the device selection function:</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="qb r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/1457498bd29f7ebf66ce31530f934015.html" allowfullscreen="" frameborder="0" height="653" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 10" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="e94c" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Now, if you connect to the device and then disconnect it, and the Bluetooth connection will be lost, the browser will try to reconnect once:</p><figure class="ga gb gc gd ge fz do dp paragraph-image"><div class="do dp kk"><div class="gj r bn gk"><div class="kl r"><div class="bm gf ds t u gg ak bf gh gi"><img class="ds t u gg ak gm gn cm ps" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_UwfGoCC7gQZkdGr2tu3Sjw.png" width="359" height="683" role="presentation"></div><img class="nw pr ds t u gg ak gp" width="359" height="683" role="presentation" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_UwfGoCC7gQZkdGr2tu3Sjw(1).png"><noscript><img class="ds t u gg ak" src="https://miro.medium.com/max/718/1*UwfGoCC7gQZkdGr2tu3Sjw.png" width="359" height="683" role="presentation"/></noscript></div></div></div><figcaption class="ax bl hl hm hn dq do dp ho hp as ey" data-selectable-paragraph="">Trying to reconnect</figcaption></figure><h2 id="35d8" class="jy hz co at as ia jz ka kb kc kd ke kf kg kh ki kj" data-selectable-paragraph="">Disconnecting from the device</h2><p id="a65f" class="gq gr co at gs b gt im gv in gx io gz ip hb iq hd" data-selectable-paragraph="">It’s important not to forget to remove the assigned handler for the <code class="gk jq jr js jt b">gattserverdisconnected</code> event, otherwise the browser will reconnect:</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="pz r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/364629071d8d99d8cffd1b2ffbd6cc7d.html" allowfullscreen="" frameborder="0" height="455" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 11" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="771d" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">You can not reset the <code class="gk jq jr js jt b">deviceCache</code>, then when you click the “Connect” button, the device selection dialog will not appear, connecting to the previous device instead.</p><figure class="ga gb gc gd ge fz do dp paragraph-image"><div class="do dp kk"><div class="gj r bn gk"><div class="kl r"><div class="bm gf ds t u gg ak bf gh gi"><img class="ds t u gg ak gm gn cm ps" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_iji4OYGtmIj8_lVebjLspA.png" width="359" height="683" role="presentation"></div><img class="nw pr ds t u gg ak gp" width="359" height="683" role="presentation" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_iji4OYGtmIj8_lVebjLspA(1).png"><noscript><img class="ds t u gg ak" src="https://miro.medium.com/max/718/1*iji4OYGtmIj8_lVebjLspA.png" width="359" height="683" role="presentation"/></noscript></div></div></div><figcaption class="ax bl hl hm hn dq do dp ho hp as ey" data-selectable-paragraph="">Disconnection</figcaption></figure><h2 id="bce4" class="jy hz co at as ia jz ka kb kc kd ke kf kg kh ki kj" data-selectable-paragraph="">Data receiving</h2><p id="4057" class="gq gr co at gs b gt im gv in gx io gz ip hb iq hd" data-selectable-paragraph="">Data is received from the device asynchronously using the notification mechanism that occurs when the value of the BLE characteristic changes. We only need to subscribe to the corresponding <code class="gk jq jr js jt b">characteristicvaluechanged</code> characteristic event. Do this right after notifications turning on. It is also correct to remove the handler from the characteristic when the device is disconnected:</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="qf r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/270ae5b62e3f9e07de64cc012fc02c81.html" allowfullscreen="" frameborder="0" height="1005" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 12" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="cc54" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph=""><code class="gk jq jr js jt b">event.target.value</code> — is a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">DataView</a> object, containing <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">ArrayBuffer</a>, which stores message from your device. Using <code class="gk jq jr js jt b">TextDecoder</code> (<a href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">MDN</a>), we convert bytes array to the text.</p></div></div><div class="fz"><div class="n p"><div class="ir is it iu iv iw ag ix ah iy aj ak"><figure class="ga gb gc gd ge fz ja jb paragraph-image"><div class="jc jd bn je ak"><div class="do dp ai"><div class="gj r bn gk"><div class="kp r"><div class="nw pr ds t u gg ak bf gh gi"><img class="ds t u gg ak gm gn go" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_NqLMbFn-PSRMqBTWhQH5zg.png" width="1074" height="683" role="presentation"></div><img class="bm gf ds t u gg ak gp" width="1074" height="683" role="presentation"><noscript><img class="ds t u gg ak" src="https://miro.medium.com/max/2148/1*NqLMbFn-PSRMqBTWhQH5zg.png" width="1074" height="683" role="presentation"/></noscript></div></div></div></div><figcaption class="ax bl hl hm hn dq do dp ho hp as ey" data-selectable-paragraph="">Sending data from the terminal and receiving in the browser</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah ec aj ak"><p id="bd44" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Testing shows that the messages receiving from the device works stably, with <code class="gk jq jr js jt b">CR</code>, <code class="gk jq jr js jt b">LF</code> end of line or without them. Long messages are received completely, but are split by 20 bytes.</p><h2 id="7a81" class="jy hz co at as ia jz ka kb kc kd ke kf kg kh ki kj" data-selectable-paragraph="">Introduction of the intermediate buffer</h2><p id="d02f" class="gq gr co at gs b gt im gv in gx io gz ip hb iq hd" data-selectable-paragraph="">You may not need to support messages longer than 20 bytes, but for the sake of completeness, let’s go around this limitation. The idea is simple: we’ll write the incoming strings into the intermediate buffer until we’ll get the delimiter character. When the delimiter character is received, we call the third function, passing data from the buffer, and clear the buffer for the subsequent writing.</p><p id="6a88" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">It’s logical to make the line feed (<code class="gk jq jr js jt b">LF</code>, <code class="gk jq jr js jt b">\n</code>) the delimiter character. It may also be helpful to trim the message:</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="qc r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/3f36f6c3829c8b48cecc2b1107635de5.html" allowfullscreen="" frameborder="0" height="609" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 13" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="bf2d" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">When creating a web app specific for your device, you can change the <code class="gk jq jr js jt b">receive()</code> function to your own needs, being sure that you are working with the whole message from the device.</p></div></div><div class="fz"><div class="n p"><div class="ir is it iu iv iw ag ix ah iy aj ak"><figure class="ga gb gc gd ge fz ja jb paragraph-image"><div class="jc jd bn je ak"><div class="do dp ai"><div class="gj r bn gk"><div class="kp r"><div class="nw pr ds t u gg ak bf gh gi"><img class="ds t u gg ak gm gn go" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_bBL7-xKbGCAj9wcY4hoFUg.png" width="1074" height="683" role="presentation"></div><img class="bm gf ds t u gg ak gp" width="1074" height="683" role="presentation"><noscript><img class="ds t u gg ak" src="https://miro.medium.com/max/2148/1*bBL7-xKbGCAj9wcY4hoFUg.png" width="1074" height="683" role="presentation"/></noscript></div></div></div></div><figcaption class="ax bl hl hm hn dq do dp ho hp as ey" data-selectable-paragraph="">Sending data from the terminal and receiving in the browser with intermediate buffer</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah ec aj ak"><h2 id="c5f8" class="jy hz co at as ia jz ka kb kc kd ke kf kg kh ki kj" data-selectable-paragraph="">Data sending</h2><p id="2c95" class="gq gr co at gs b gt im gv in gx io gz ip hb iq hd" data-selectable-paragraph="">Sending data to the device is done by writing a value to the characteristic, and more specifically by calling the <code class="gk jq jr js jt b">writeValue()</code> method of the characteristic object with <code class="gk jq jr js jt b">ArrayBuffer</code> as its argument. To convert a string into <code class="gk jq jr js jt b">ArrayBuffer</code>, it’s easiest to use <code class="gk jq jr js jt b">TextEncoder</code> (<a href="https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">MDN</a>):</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="qg r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/2b7861bd666368f397f18e91e69a2610.html" allowfullscreen="" frameborder="0" height="345" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 14" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="f627" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Just in case, the data is converted to a string type using the global <code class="gk jq jr js jt b">String</code> object.</p><p id="845a" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">In this implementation, there is the same 20 bytes limitation: anything that goes beyond is simply truncated. Therefore, in case the message is longer than 20 bytes, it’s worth to break it into chunks and send it in sequence with some delay:</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="qc r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/89f6280f5bcb436e9221703f02721c21.html" allowfullscreen="" frameborder="0" height="609" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 15" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="02b9" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">To make it easier to process messages on the controller side, add a line feed character (<code class="gk jq jr js jt b">\n</code>) to the end of the message.</p><p id="b421" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">The message is split into chunks using a regular expression that correctly handles the carriage return (<code class="gk jq jr js jt b">CR</code>, <code class="gk jq jr js jt b">\r</code>) and line feed (<code class="gk jq jr js jt b">LF</code>, <code class="gk jq jr js jt b">\n</code>) characters. After that the first part is sent immediately, and timeouts are set to send other chunks with a delay of 100 milliseconds.</p></div></div><div class="fz"><div class="n p"><div class="ir is it iu iv iw ag ix ah iy aj ak"><figure class="ga gb gc gd ge fz ja jb paragraph-image"><div class="jc jd bn je ak"><div class="do dp ai"><div class="gj r bn gk"><div class="kp r"><div class="nw pr ds t u gg ak bf gh gi"><img class="ds t u gg ak gm gn go" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_fK31OhAlNKXeJcROXeVvOw.png" width="1074" height="683" role="presentation"></div><img class="bm gf ds t u gg ak gp" width="1074" height="683" role="presentation"><noscript><img class="ds t u gg ak" src="https://miro.medium.com/max/2148/1*fK31OhAlNKXeJcROXeVvOw.png" width="1074" height="683" role="presentation"/></noscript></div></div></div></div><figcaption class="ax bl hl hm hn dq do dp ho hp as ey" data-selectable-paragraph="">Data exchange between the terminal and the browser</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah ec aj ak"><p id="1151" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">It woks! So we got a full-featured two-way data exchange with the device and at this point we are done with JS.</p><h2 id="e60f" class="jy hz co at as ia jz ka kb kc kd ke kf kg kh ki kj" data-selectable-paragraph="">Progressive Web App</h2><p id="2803" class="gq gr co at gs b gt im gv in gx io gz ip hb iq hd" data-selectable-paragraph="">We don’t know in what conditions your device will be in advance, so it would be nice to be able to work with the created web app offline. And here the concept of <strong class="gs hi">Progressive Web Apps</strong> (more details on <a href="https://developers.google.com/web/progressive-web-apps/" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">Google Developers</a> or on <a href="https://en.wikipedia.org/wiki/Progressive_web_app" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">Wikipedia</a>) will help us: in a nutshell these are websites that look like ordinary or mobile apps for the user. With the use of PWA technologies at the first time you visit the website, you’ll be able to install it as an application on your smartphone’s homescreen and work with it offline.</p><p id="010f" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph=""><strong class="gs hi">Icon</strong></p><p id="1ace" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">The icon is required to install the application to the homescreen. I use <a href="https://realfavicongenerator.net/" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">realfavicongenerator.net</a> — upload suitable image and the generator will prompt you to adjust the icons for different devices.</p><p id="13c6" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">In the “Favicon for Android Chrome” section, I recommend to switch to the “Assets” tab and select “Create all documented icons”, otherwise Chrome will generate an icon for the homescreen from the size closest to the desired size, which can vary on different devices.</p><p id="c6bb" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">After finishing the configuration, press the “Generate” button, download the “Favicon package” and unpack it next to the web page. Also copy the code proposed by the generator to the <code class="gk jq jr js jt b">&lt;head&gt;</code>.</p><p id="d369" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph=""><strong class="gs hi">Manifest</strong></p><p id="7364" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Together with the icons, the generator has kindly provided us with a <a href="https://developer.mozilla.org/en-US/docs/Web/Manifest" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">manifest</a> boilerplate — <code class="gk jq jr js jt b">manifest.json</code>:</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="pw r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/22897b70cf0e7920005480aba0dd4ea2.html" allowfullscreen="" frameborder="0" height="235" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 16" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="d1b9" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Specify the name of your application in the <code class="gk jq jr js jt b">name</code> property and add the <code class="gk jq jr js jt b">short_name</code> property containing the abbreviated name, no more than 12 characters.</p><p id="4ea0" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">All the generated icons are already listed in the <code class="gk jq jr js jt b">icons</code> array, the app display mode in the <code class="gk jq jr js jt b">display</code> property. <code class="gk jq jr js jt b">standalone</code> means that the web application will be launched without the browser UI elements, which is the most similar to the native application — exactly what is needed.</p><p id="5542" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">The browser will color its toolbar in the <code class="gk jq jr js jt b">theme_color</code> color, and <code class="gk jq jr js jt b">background_color</code> will be used as a background for the <strong class="gs hi">Splash screen</strong> shown on the app launch. Changing the <code class="gk jq jr js jt b">theme_color</code> in the manifest, do not forget to change the meta tag <code class="gk jq jr js jt b">&lt;meta name=”theme-color” content=“#ffffff”&gt;</code> also.</p><p id="bc37" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">It’s also worth to define the <code class="gk jq jr js jt b">start_url</code> and <code class="gk jq jr js jt b">scope</code> properties equal to <code class="gk jq jr js jt b">./</code>, to open main page on the application launch firstly, and to constrain the navigation area of the web app with the current and nested pages secondly. The latter can be useful if the application files aren’t located in the root directory of the website.</p><p id="0659" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph=""><strong class="gs hi">Service Worker</strong></p><p id="2a1d" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph=""><a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">Service Worker</a> will allow us to cache files necessary for the app and use them offline. <a href="https://github.com/GoogleChromeLabs/sw-toolbox" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">Service Worker Toolbox</a> will help us to quickly create our own, just download <a href="https://raw.githubusercontent.com/GoogleChromeLabs/sw-toolbox/master/sw-toolbox.js" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">sw-toolbox.js</a> and <a href="https://raw.githubusercontent.com/GoogleChromeLabs/sw-toolbox/master/companion.js" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">companion.js</a> files, place them next to <code class="gk jq jr js jt b">index.html</code> and add the following to the <code class="gk jq jr js jt b">&lt;body&gt;</code> end:</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="pv r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/2843f6a1ca0c739a435549b29b95aee7.html" allowfullscreen="" frameborder="0" height="59" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 17" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="3ddb" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">The last thing is to add the <code class="gk jq jr js jt b">sw.js</code> script next to <code class="gk jq jr js jt b">index.html</code> to cache necessary files:</p><figure class="ga gb gc gd ge fz"><div class="gj r bn"><div class="qd r"><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/8bf6a598615dcda69dfa33ef4e46ac87.html" allowfullscreen="" frameborder="0" height="213" width="680" title="How to make a web app for your own Bluetooth Low Energy device? Step 18" class="ds t u gg ak" scrolling="auto"></iframe></div></div></figure><p id="59c5" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Now we have not just a page, but a real progressive web application:</p><figure class="ga gb gc gd ge fz do dp paragraph-image"><div class="jc jd bn je ak"><div class="do dp kn"><div class="gj r bn gk"><div class="ko r"><div class="nw pr ds t u gg ak bf gh gi"><img class="ds t u gg ak gm gn go" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_1m8In4c7vjk4U0LLnUYg9Q.png" width="750" height="683" role="presentation"></div><img class="bm gf ds t u gg ak gp" width="750" height="683" role="presentation"><noscript><img class="ds t u gg ak" src="https://miro.medium.com/max/1500/1*1m8In4c7vjk4U0LLnUYg9Q.png" width="750" height="683" role="presentation"/></noscript></div></div></div></div><figcaption class="ax bl hl hm hn dq do dp ho hp as ey" data-selectable-paragraph="">Adding the web app to the homescreen and the Splash screen</figcaption></figure></div></div><div class="fz"><div class="n p"><div class="ir is it iu iv iw ag ix ah iy aj ak"><figure class="ga gb gc gd ge fz ja jb paragraph-image"><div class="jc jd bn je ak"><div class="do dp ai"><div class="gj r bn gk"><div class="kp r"><div class="nw pr ds t u gg ak bf gh gi"><img class="ds t u gg ak gm gn go" src="./How to make a web app for your own Bluetooth Low Energy device__files/1_XEkswymGWwP42fch762vmg.png" width="1074" height="683" role="presentation"></div><img class="bm gf ds t u gg ak gp" width="1074" height="683" role="presentation"><noscript><img class="ds t u gg ak" src="https://miro.medium.com/max/2148/1*XEkswymGWwP42fch762vmg.png" width="1074" height="683" role="presentation"/></noscript></div></div></div></div><figcaption class="ax bl hl hm hn dq do dp ho hp as ey" data-selectable-paragraph="">Final test</figcaption></figure></div></div></div><div class="n p"><div class="ac ae af ag ah ec aj ak"><h1 id="ce01" class="hy hz co at as ia ib kq id kr if ks ih kt ij ku il" data-selectable-paragraph="">Epilogue</h1><p id="9ad4" class="gq gr co at gs b gt im gv in gx io gz ip hb iq hd" data-selectable-paragraph="">So that’s how easy and simple to start developing your own Bluetooth Low Energy devices with cheap modules and cross-platform web apps, using a two-way communication channel between the device and the browser.</p><p id="2030" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Now you can change the UI to the specific for your device, add necessary handlers, implement your protocol of communication with the device and… turn on a kettle in the kitchen by pressing button in the app on your smartphone!</p><p id="03bc" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Final code of <code class="gk jq jr js jt b">index.html</code>, <code class="gk jq jr js jt b">styles.css</code>, <code class="gk jq jr js jt b">main.js</code> and<code class="gk jq jr js jt b">sw.js</code> files available <a href="https://gist.github.com/loginov-rocks/8aeb19f207b1da53eaa553faa7aa8a51" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">here</a>.</p><p id="cc76" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">You can launch modified web terminal here: <a href="https://loginov.rocks/Web-Bluetooth-Terminal/" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">loginov.rocks/Web-Bluetooth-Terminal</a> — or see how it works on <a href="https://www.youtube.com/watch?v=BNXN_931W_M" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">YouTube</a>.</p><p id="e04e" class="gq gr co at gs b gt gu gv gw gx gy gz ha hb hc hd" data-selectable-paragraph="">Also you can find advanced <a href="https://github.com/loginov-rocks/bluetooth-terminal" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">ES6 class</a> for serial communication with BLE modules and <a href="https://github.com/loginov-rocks/Web-Bluetooth-Terminal" class="bq de he hf hg hh" target="_blank" rel="noopener nofollow">web terminal repo</a> on <strong class="gs hi">GitHub.</strong></p></div></div></section></div></article><div class="nw dw kv s ak kw kx ky" data-test-id="post-sidebar"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="kz n dr"><div class="qk"><div class="la lb lc n"><div class="n o"><div class="ld r bn"><div class=""><button class="bx le lf lg lh li lj lk fy ll lm"><svg width="29" height="29"><g fill-rule="evenodd"><path d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></button></div></div><div class="ln r"><div class="lo"><h4 class="as ey bl au ax"><button class="bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf">107 </button></h4></div></div></div></div><div class="fy"><div><div class="bh" role="tooltip" aria-hidden="true" aria-describedby="2" aria-labelledby="2"><button class="bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></div><div class="nw qk kv s lp lq lr ls kx lt"></div><div><div class="lu fz n dr p"><div class="n p"><div class="ac ae af ag ah ec aj ak"><div class="n lv"></div><div class="n o lv"></div><div class="lw r"><ul class="bx by"><li class="bh lx ly lz"><a href="https://medium.com/tag/web-development" class="ma mb de ax r mc md a b fn">Web Development</a></li><li class="bh lx ly lz"><a href="https://medium.com/tag/arduino" class="ma mb de ax r mc md a b fn">Arduino</a></li><li class="bh lx ly lz"><a href="https://medium.com/tag/web-bluetooth" class="ma mb de ax r mc md a b fn">Web Bluetooth</a></li><li class="bh lx ly lz"><a href="https://medium.com/tag/javascript" class="ma mb de ax r mc md a b fn">JavaScript</a></li><li class="bh lx ly lz"><a href="https://medium.com/tag/bluetooth-low-energy" class="ma mb de ax r mc md a b fn">Bluetooth Low Energy</a></li></ul></div><div class="me n ep ab"><div class="n o"><div class="cl r bn"><div class=""><div class="c mf dh n o mg bn mh mi mj mk ml mm mn mo mp mq mr ms mt mu"><button class="bx le lf lg lh li mv lk o gp dh n p mw u gg ds t ak fy ll lm mx"><svg width="33" height="33" viewBox="0 0 33 33"><path d="M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z" fill-rule="evenodd"></path></svg></button></div></div></div><div class="ln r"><div class="lo"><h4 class="as ey bl au co"><button class="bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf">107 claps</button></h4></div></div></div><div class="n o"><div class="fw r ar"><a href="https://medium.com/p/2af8d16fdbe8/share/twitter?source=post_actions_footer---------------------------" class="bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf" target="_blank" rel="noopener"><svg width="29" height="29" class="q"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div><div class="fw r ar"><a href="https://medium.com/p/2af8d16fdbe8/share/facebook?source=post_actions_footer---------------------------" class="bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf" target="_blank" rel="noopener"><svg width="29" height="29" class="q"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div><div class="fw r ar"><div class="fy"><div><div class="bh" role="tooltip" aria-hidden="true" aria-describedby="3" aria-labelledby="3"><button class="bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></button></div></div></div></div><div class="bh" aria-hidden="true"><div class="r ar"><button class="bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf"><svg width="25" height="25" viewBox="-480.5 272.5 21 21" class="q"><path d="M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"></path></svg></button></div></div></div></div><div class="my mz na lw r ab"><div class="nb nc r bn"><span class="r nd an ne"><div class="r ds nf ng"><a rel="noopener" href="https://medium.com/@loginov_rocks?source=follow_footer--------------------------follow_footer-"><img alt="Danila Loginov" class="r dh nh ni" src="./How to make a web app for your own Bluetooth Low Energy device__files/2_H46vP_0s478ZbIZ8bQRI_g(1).jpeg" width="80" height="80"></a></div><span class="r"><div class="nj r nk"><p class="as ey fn au ax nl nm">Written by</p></div><div class="nj nn n nk"><div class="ak n o ep"><h2 class="as ia hr no co"><a class="bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf" rel="noopener" href="https://medium.com/@loginov_rocks?source=follow_footer--------------------------follow_footer-">Danila Loginov</a></h2><div class="r g"><button class="cn cp fg fh fi fj fk fl bz da as b at au av aw db dc dd bh de cc">Follow</button></div></div></div></span></span><div class="nj np r nk aq"><div class="nq r"><h4 class="as ey nr ns ax">Open-minded Web Engineer, designer, IoT hobbyist, petrolhead</h4></div><div class="ap nt aq"><button class="cn cp fg fh fi fj fk fl bz da as b at au av aw db dc dd bh de cc">Follow</button></div></div></div></div><div class="nu mz r ab"><a href="https://medium.com/p/2af8d16fdbe8/responses/show?source=follow_footer--------------------------follow_footer-" class="bq br bs bt bu bv bw bx by bz ca cb cc cd ce cf" rel="noopener"><span class="nv nw lh"><div class="nx ny da r hn aq"><span class="fg">See responses (6)</span></div></span></a></div></div></div><div class="nz r oa ab"><div class="n p"><div class="ac ae af ag ah ai aj ak"></div></div></div></div></div><div class="ob r oc od"><section class="do dp ak dd r oe of og oh oi oj ok ol om on oo op oq or os"><div class="ot ou nb n ep g"><div class="ov n ep"><div class="ow r ox"><div class="oy r"><a href="https://medium.com/about?autoplay=1&amp;source=post_page-----2af8d16fdbe8----------------------" class="bq br bs bt bu bv bw bx by bz oz pa cc cd pb pc" rel="noopener"><h4 class="pd pe pf as ia at ns pg ph r">Discover <!-- -->Medium</h4></a></div><span class="as b at au av aw r pi pj">Welcome to a place where words matter. On <!-- -->Medium<!-- -->, smart voices and original ideas take center stage - with no ads in sight.<!-- --> <a href="https://medium.com/about?autoplay=1&amp;source=post_page-----2af8d16fdbe8----------------------" class="bq br bs bt bu bv bw bx by bz cc cd pb pc pk" rel="noopener">Watch</a></span></div><div class="ow r ox"><div class="pl r"><a href="https://medium.com/topics?source=post_page-----2af8d16fdbe8----------------------" class="bq br bs bt bu bv bw bx by bz oz pa cc cd pb pc" rel="noopener"><h4 class="pd pe pf as ia at ns pg ph r">Make <!-- -->Medium<!-- --> yours</h4></a></div><span class="as b at au av aw r pi pj">Follow all the topics you care about, and we’ll deliver the best stories for you to your homepage and inbox.<!-- --> <a href="https://medium.com/topics?source=post_page-----2af8d16fdbe8----------------------" class="bq br bs bt bu bv bw bx by bz cc cd pb pc pk" rel="noopener">Explore</a></span></div><div class="ow r ox"><div class="oy r"><a href="https://medium.com/membership?source=post_page-----2af8d16fdbe8----------------------" class="bq br bs bt bu bv bw bx by bz oz pa cc cd pb pc" rel="noopener"><h4 class="pd pe pf as ia at ns pg ph r">Become a member</h4></a></div><span class="as b at au av aw r pi pj">Get unlimited access to the best stories on <!-- -->Medium<!-- --> — and support writers while you’re at it. Just $5/month.<!-- --> <a href="https://medium.com/membership?source=post_page-----2af8d16fdbe8----------------------" class="bq br bs bt bu bv bw bx by bz cc cd pb pc pk" rel="noopener">Upgrade</a></span></div></div></div><div class="n o ep"><a href="https://medium.com/?source=post_page-----2af8d16fdbe8----------------------" class="bq br bs bt bu bv bw bx by bz oz pa cc cd pb pc" rel="noopener"><svg height="22" width="112" viewBox="0 0 111.5 22" class="pe"><path d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z"></path></svg></a><span class="as b at au av aw r pi pj"><div class="pm pn n ep po an"><a href="https://medium.com/about?autoplay=1&amp;source=post_page-----2af8d16fdbe8----------------------" class="bq br bs bt bu bv bw bx by bz fd cc cd pb pc" rel="noopener">About</a><a href="https://help.medium.com/?source=post_page-----2af8d16fdbe8----------------------" class="bq br bs bt bu bv bw bx by bz fd cc cd pb pc" rel="noopener">Help</a><a class="bq br bs bt bu bv bw bx by bz fd cc cd pb pc" rel="noopener" href="https://medium.com/policy/9db0094a1e0f?source=post_page-----2af8d16fdbe8----------------------">Legal</a></div></span></div></section></div></div></div><script src="./How to make a web app for your own Bluetooth Low Energy device__files/16180790160.js"></script><iframe src="./How to make a web app for your own Bluetooth Low Energy device__files/a16180790160.html" hidden="" aria-hidden="true" tabindex="-1" title="Optimizely Internal Frame" height="0" width="0" style="display: none;"></iframe><script>window.__BUILD_ID__ = "development"</script><script>window.__GRAPHQL_URI__ = "https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"config":{"nodeEnv":"production","version":"master-20191212-170127-47d28d5a78","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"collector-medium.lightstep.com","token":"ce5be895bef60919541332990ac9fef2","appVersion":"master-20191212-170127-47d28d5a78"},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","sentry":{"dsn":"https:\u002F\u002F589e367c28ca47b195ce200d1507d18b@sentry.io\u002F1423575","environment":"production"},"isAmp":false,"googleAnalyticsCode":"UA-24232453-2","signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["544c7006046e","bcc38c8f6edf","444d13b52878","8d6b8a439e32","92d2092dc598","1285ba81cada","cb8577c9149e","8ccfed20cbb2","ae2a65f35510","3f6ecf56618","7b6769f2748b","fc8964313712","ef8e90590e66","191186aaafa0","d944778ce714","bdc4052bbdba","88d9857e584e"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"]},"debug":{"requestId":"c81ba45d-6d05-49b0-bd17-b31b81f4754a","originalSpanCarrier":{"ot-tracer-spanid":"5b525af3389e1367","ot-tracer-traceid":"24ef4fc9380f9408","ot-tracer-sampled":"true"}},"session":{"user":{"id":"16f4b3a276bd"},"xsrf":"mpQ8gXztgDbW"},"stats":{"itemCount":0,"sending":false,"timeout":null,"backup":{}},"navigation":{"showBranchBanner":null,"hasRenderedBranchBanner":null,"hideGoogleOneTap":false,"hideAlternateUser":false,"branchData":{"loaded":false},"currentLocation":"https:\u002F\u002Fmedium.com\u002F@loginov_rocks\u002Fhow-to-make-a-web-app-for-your-own-bluetooth-low-energy-device-arduino-2af8d16fdbe8","host":"medium.com","hostname":"medium.com","referrer":"https:\u002F\u002Fwww.google.com\u002F","susiModal":{"step":null,"operation":"register","reportEventInfo":{"eventName":"","data":{}}}},"client":{"isBot":false,"isEu":false,"isNativeMedium":false,"isCustomDomain":false},"multiVote":{"clapsPerPost":{}},"metadata":{"faviconImageId":null}}</script><script>window.__APOLLO_STATE__ = {"User:16f4b3a276bd":{"id":"16f4b3a276bd","username":"alanfabcast","name":"Alanfabcast","imageId":"0*aID1Y-bR3loxYgMe.jpg","mediumMemberAt":0,"hasPastMemberships":false,"isPartnerProgramEnrolled":false,"email":"alanfabcast@gmail.com","unverifiedEmail":"","createdAt":1572457692931,"__typename":"User"},"ROOT_QUERY":{"viewer":{"type":"id","generated":false,"id":"User:16f4b3a276bd","typename":"User"},"variantFlags":[{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.0","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.1","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.2","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.3","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.4","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.5","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.6","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.7","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.8","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.9","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.10","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.11","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.12","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.13","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.14","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.15","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.16","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.17","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.18","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.19","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.20","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.21","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.22","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.23","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.24","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.25","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.26","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.27","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.28","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.29","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.30","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.31","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.32","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.33","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.34","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.35","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.36","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.37","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.38","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.39","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.40","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.41","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.42","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.43","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.44","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.45","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.46","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.47","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.48","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.49","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.50","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.51","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.52","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.53","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.54","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.55","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.56","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.57","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.58","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.59","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.60","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.61","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.62","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.63","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.64","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.65","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.66","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.67","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.68","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.69","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.70","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.71","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.72","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.73","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.74","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.75","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.76","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.77","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.78","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.79","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.80","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.81","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.82","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.83","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.84","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.85","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.86","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.87","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.88","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.89","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.90","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.91","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.92","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.93","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.94","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.95","typename":"VariantFlag"}],"meterPost({\"postId\":\"2af8d16fdbe8\",\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}})":{"type":"id","generated":false,"id":"MeteringInfo:singleton","typename":"MeteringInfo"},"postResult({\"id\":\"2af8d16fdbe8\"})":{"type":"id","generated":false,"id":"Post:2af8d16fdbe8","typename":"Post"},"notificationsConnection({})":{"type":"id","generated":true,"id":"$ROOT_QUERY.notificationsConnection({})","typename":"NotificationsConnection"},"notificationStatus":{"type":"id","generated":true,"id":"$ROOT_QUERY.notificationStatus","typename":"NotificationStatus"}},"ROOT_QUERY.variantFlags.0":{"name":"allow_access","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.0.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.0.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.1":{"name":"allow_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.1.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.1.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.2":{"name":"allow_test_auth","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.2.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.2.valueType":{"__typename":"VariantFlagString","value":"disallow"},"ROOT_QUERY.variantFlags.3":{"name":"assign_default_topic_to_posts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.3.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.3.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.4":{"name":"available_annual_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.4.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.4.valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"},"ROOT_QUERY.variantFlags.5":{"name":"available_monthly_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.5.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.5.valueType":{"__typename":"VariantFlagString","value":"60e220181034"},"ROOT_QUERY.variantFlags.6":{"name":"browsable_stream_config_bucket","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.6.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.6.valueType":{"__typename":"VariantFlagString","value":"curated-topics"},"ROOT_QUERY.variantFlags.7":{"name":"delay_recirc_query","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.7.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.7.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.8":{"name":"digest_delivery_window_seven_to_eight","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.8.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.8.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.9":{"name":"disable_gosocial_followers_that_you_follow","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.9.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.9.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.10":{"name":"disable_ios_resume_reading_toast","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.10.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.10.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.11":{"name":"disable_mobile_featured_chunk","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.11.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.11.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.12":{"name":"disable_post_recommended_from_friends_provider","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.12.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.12.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.13":{"name":"enable_android_local_currency","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.13.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.13.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.14":{"name":"enable_annual_renewal_reminder_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.14.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.14.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.15":{"name":"enable_app_flirty_thirty","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.15.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.15.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.16":{"name":"enable_auto_tier","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.16.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.16.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.17":{"name":"enable_automated_mission_control_triggers","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.17.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.17.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.18":{"name":"enable_branch_io","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.18.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.18.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.19":{"name":"enable_branding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.19.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.19.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.20":{"name":"enable_branding_fonts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.20.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.20.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.21":{"name":"enable_dedicated_series_tab_api_ios","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.21.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.21.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.22":{"name":"enable_different_grid","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.22.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.22.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.23":{"name":"enable_disregard_trunc_state_for_footer","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.23.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.23.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.24":{"name":"enable_edit_alt_text","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.24.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.24.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.25":{"name":"enable_email_sign_in_captcha","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.25.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.25.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.26":{"name":"enable_embedding_based_diversification","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.26.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.26.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.27":{"name":"enable_expanded_feature_chunk_pool","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.27.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.27.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.28":{"name":"enable_filter_by_resend_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.28.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.28.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.29":{"name":"enable_first_name_on_blocker_banner","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.29.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.29.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.30":{"name":"enable_first_name_on_paywall","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.30.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.30.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.31":{"name":"enable_geolocation_stripe_standard","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.31.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.31.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.32":{"name":"enable_google_one_tap","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.32.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.32.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.33":{"name":"enable_graphql_lo_cache","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.33.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.33.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.34":{"name":"enable_inline_search_lite","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.34.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.34.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.35":{"name":"enable_inline_search_popover_lite","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.35.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.35.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.36":{"name":"enable_ios_post_stats","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.36.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.36.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.37":{"name":"enable_janky_spam_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.37.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.37.valueType":{"__typename":"VariantFlagString","value":"users,posts"},"ROOT_QUERY.variantFlags.38":{"name":"enable_kafka_events","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.38.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.38.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.39":{"name":"enable_lite_notifications","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.39.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.39.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.40":{"name":"enable_lite_post","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.40.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.40.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.41":{"name":"enable_lite_post_cd","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.41.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.41.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.42":{"name":"enable_lite_post_highlights","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.42.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.42.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.43":{"name":"enable_lite_post_highlights_view_only","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.43.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.43.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.44":{"name":"enable_lite_profile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.44.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.44.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.45":{"name":"enable_lite_pub_header_menu","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.45.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.45.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.46":{"name":"enable_lite_read_next","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.46.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.46.valueType":{"__typename":"VariantFlagString","value":"sidebar"},"ROOT_QUERY.variantFlags.47":{"name":"enable_lite_reading_list","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.47.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.47.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.48":{"name":"enable_lite_server_upstream_deadlines","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.48.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.48.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.49":{"name":"enable_lite_stories","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.49.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.49.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.50":{"name":"enable_lite_topics","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.50.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.50.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.51":{"name":"enable_lite_unread_notification_count_mutation","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.51.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.51.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.52":{"name":"enable_lo_scroll_away_metabar","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.52.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.52.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.53":{"name":"enable_logged_out_homepage_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.53.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.53.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.54":{"name":"enable_marketing_emails","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.54.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.54.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.55":{"name":"enable_media_resource_try_catch","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.55.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.55.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.56":{"name":"enable_membership_remove_section_a","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.56.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.56.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.57":{"name":"enable_membership_thank_you_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.57.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.57.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.58":{"name":"enable_more_branch_data","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.58.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.58.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.59":{"name":"enable_new_collaborative_filtering_data","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.59.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.59.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.60":{"name":"enable_new_partner_dashboard","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.60.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.60.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.61":{"name":"enable_new_pub_fonts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.61.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.61.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.62":{"name":"enable_new_pub_modules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.62.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.62.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.63":{"name":"enable_new_suspended_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.63.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.63.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.64":{"name":"enable_new_three_dot_menu","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.64.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.64.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.65":{"name":"enable_new_withholding_copy","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.65.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.65.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.66":{"name":"enable_optimizely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.66.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.66.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.67":{"name":"enable_parsely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.67.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.67.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.68":{"name":"enable_patronus_on_kubernetes","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.68.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.68.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.69":{"name":"enable_popularity_feature_exp_retrain","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.69.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.69.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.70":{"name":"enable_post_import","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.70.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.70.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.71":{"name":"enable_post_settings_screen","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.71.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.71.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.72":{"name":"enable_primary_topic_for_mobile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.72.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.72.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.73":{"name":"enable_rito_caching","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.73.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.73.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.74":{"name":"enable_rito_upstream_deadlines","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.74.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.74.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.75":{"name":"enable_rtr_channel","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.75.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.75.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.76":{"name":"enable_save_to_medium","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.76.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.76.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.77":{"name":"enable_sign_up_with_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.77.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.77.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.78":{"name":"enable_suggest_account","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.78.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.78.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.79":{"name":"enable_suggest_account_li","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.79.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.79.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.80":{"name":"enable_susi_font_changes","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.80.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.80.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.81":{"name":"enable_tick_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.81.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.81.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.82":{"name":"enable_tipalti_onboarding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.82.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.82.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.83":{"name":"enable_topic_lifecycle_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.83.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.83.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.84":{"name":"enable_tribute_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.84.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.84.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.85":{"name":"enable_trumpland_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.85.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.85.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.86":{"name":"glyph_font_set","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.86.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.86.valueType":{"__typename":"VariantFlagString","value":"m2"},"ROOT_QUERY.variantFlags.87":{"name":"google_sign_in_android","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.87.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.87.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.88":{"name":"is_not_medium_subscriber","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.88.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.88.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.89":{"name":"new_transition_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.89.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.89.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.90":{"name":"pub_sidebar","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.90.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.90.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.91":{"name":"rank_model","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.91.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.91.valueType":{"__typename":"VariantFlagString","value":"default"},"ROOT_QUERY.variantFlags.92":{"name":"redis_read_write_splitting","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.92.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.92.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.93":{"name":"signin_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.93.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.93.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap"},"ROOT_QUERY.variantFlags.94":{"name":"signup_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.94.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.94.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap"},"ROOT_QUERY.variantFlags.95":{"name":"use_new_admin_topic_backend","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.95.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.95.valueType":{"__typename":"VariantFlagBoolean","value":true},"MeteringInfo:singleton":{"__typename":"MeteringInfo","postIds":{"type":"json","json":[]},"maxUnlockCount":3,"unlocksRemaining":3},"Post:2af8d16fdbe8":{"__typename":"Post","visibility":"PUBLIC","latestPublishedVersion":"349bfa1881eb","collection":null,"id":"2af8d16fdbe8","creator":{"type":"id","generated":false,"id":"User:e330c2437818","typename":"User"},"isLocked":false,"lockedSource":"LOCKED_POST_SOURCE_NONE","sequence":null,"mediumUrl":"https:\u002F\u002Fmedium.com\u002F@loginov_rocks\u002Fhow-to-make-a-web-app-for-your-own-bluetooth-low-energy-device-arduino-2af8d16fdbe8","canonicalUrl":"","content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}})":{"type":"id","generated":true,"id":"$Post:2af8d16fdbe8.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}})","typename":"PostContent"},"firstPublishedAt":1535376863452,"isPublished":true,"layerCake":4,"primaryTopic":null,"title":"How to make a web app for your own Bluetooth Low Energy device?","isLimitedState":false,"pendingCollection":null,"shareKey":null,"statusForCollection":null,"readingTime":14.527358490566039,"readingList":"READING_LIST_NONE","license":"ALL_RIGHTS_RESERVED","allowResponses":true,"tags":[{"type":"id","generated":false,"id":"Tag:web-development","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:arduino","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:web-bluetooth","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:javascript","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:bluetooth-low-energy","typename":"Tag"}],"viewerClapCount":0,"clapCount":107,"voterCount":28,"recommenders":[],"responsesCount":6,"collaborators":[],"translationSourcePost":null,"newsletterId":"","inResponseToPostResult":null,"inResponseToMediaResource":null,"curationEligibleAt":0,"audioVersionUrl":"","seoTitle":"","socialTitle":"","socialDek":"","metaDescription":"","latestPublishedAt":1559906964844,"wordCount":3439,"previewContent":{"type":"id","generated":true,"id":"$Post:2af8d16fdbe8.previewContent","typename":"PreviewContent"},"previewImage":{"type":"id","generated":false,"id":"ImageMetadata:1*QVwPTjm63e5UXFMhShbD3g.png","typename":"ImageMetadata"},"updatedAt":1559906965205,"topics":[],"seoDescription":"","isSuspended":false},"User:e330c2437818":{"id":"e330c2437818","__typename":"User","isSuspended":false,"allowNotes":true,"name":"Danila Loginov","isFollowing":false,"username":"loginov_rocks","bio":"Open-minded Web Engineer, designer, IoT hobbyist, petrolhead","imageId":"2*H46vP_0s478ZbIZ8bQRI_g.jpeg","mediumMemberAt":0,"isBlocking":false,"isPartnerProgramEnrolled":false,"twitterScreenName":"1oginov"},"$Post:2af8d16fdbe8.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}})":{"isLockedPreviewOnly":false,"validatedShareKey":"","__typename":"PostContent","bodyModel":{"type":"id","generated":true,"id":"$Post:2af8d16fdbe8.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}}).bodyModel","typename":"RichText"}},"$Post:2af8d16fdbe8.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}}).bodyModel.sections.0":{"name":"bdac","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:2af8d16fdbe8.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}}).bodyModel.sections.1":{"name":"3020","startIndex":6,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:2af8d16fdbe8.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}}).bodyModel.sections.2":{"name":"cb06","startIndex":15,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:2af8d16fdbe8.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}}).bodyModel.sections.3":{"name":"28a6","startIndex":48,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:2af8d16fdbe8.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}}).bodyModel":{"sections":[{"type":"id","generated":true,"id":"$Post:2af8d16fdbe8.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}}).bodyModel.sections.0","typename":"Section"},{"type":"id","generated":true,"id":"$Post:2af8d16fdbe8.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}}).bodyModel.sections.1","typename":"Section"},{"type":"id","generated":true,"id":"$Post:2af8d16fdbe8.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}}).bodyModel.sections.2","typename":"Section"},{"type":"id","generated":true,"id":"$Post:2af8d16fdbe8.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}}).bodyModel.sections.3","typename":"Section"}],"paragraphs":[{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_0","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_1","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_2","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_3","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_4","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_5","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_6","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_7","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_8","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_9","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_10","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_11","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_12","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_13","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_14","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_15","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_16","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_17","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_18","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_19","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_20","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_21","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_22","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_23","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_24","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_25","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_26","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_27","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_28","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_29","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_30","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_31","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_32","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_33","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_34","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_35","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_36","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_37","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_38","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_39","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_40","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_41","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_42","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_43","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_44","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_45","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_46","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_47","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_48","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_49","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_50","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_51","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_52","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_53","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_54","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_55","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_56","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_57","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_58","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_59","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_60","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_61","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_62","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_63","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_64","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_65","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_66","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_67","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_68","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_69","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_70","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_71","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_72","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_73","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_74","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_75","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_76","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_77","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_78","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_79","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_80","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_81","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_82","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_83","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_84","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_85","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_86","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_87","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_88","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_89","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_90","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_91","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_92","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_93","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_94","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_95","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_96","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_97","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_98","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_99","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_100","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_101","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_102","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_103","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_104","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_105","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_106","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_107","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_108","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_109","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_110","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_111","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_112","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_113","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_114","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_115","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_116","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_117","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_118","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_119","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_120","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_121","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_122","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_123","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_124","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_125","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_126","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_127","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_128","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_129","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_130","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_131","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_132","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_133","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_134","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_135","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_136","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_137","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_138","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_139","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_140","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_141","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_142","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_143","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_144","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_145","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_146","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_147","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_148","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_149","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_150","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_151","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_152","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_153","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_154","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_155","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_156","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_157","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_158","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_159","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_160","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_161","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_162","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_163","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_164","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_165","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_166","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:349bfa1881eb_167","typename":"Paragraph"}],"__typename":"RichText"},"Paragraph:349bfa1881eb_0":{"id":"349bfa1881eb_0","name":"d1a1","type":"H3","href":null,"layout":null,"metadata":null,"text":"How to make a web app for your own Bluetooth Low Energy device?","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_1":{"id":"349bfa1881eb_1","name":"cf6f","type":"IMG","href":null,"layout":"FULL_WIDTH","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*QVwPTjm63e5UXFMhShbD3g.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*QVwPTjm63e5UXFMhShbD3g.png":{"id":"1*QVwPTjm63e5UXFMhShbD3g.png","originalHeight":630,"originalWidth":1200,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:349bfa1881eb_2":{"id":"349bfa1881eb_2","name":"682c","type":"P","href":null,"layout":null,"metadata":null,"text":"Some time ago I assembled unpretentious robot arm for fun and decided to control it with smartphone using Bluetooth. At that time I haven’t experience in native application development yet and I was already familiar with Apache Cordova, but I thought it would be interesting to use Web Bluetooth API, flavoring it by Progressive Web Apps features.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_2.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_2.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_2.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_2.markups.0":{"type":"A","start":221,"end":235,"href":"https:\u002F\u002Fcordova.apache.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_2.markups.1":{"type":"STRONG","start":282,"end":299,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_2.markups.2":{"type":"STRONG","start":317,"end":337,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_3":{"id":"349bfa1881eb_3","name":"09e3","type":"P","href":null,"layout":null,"metadata":null,"text":"At first glance it may seem there are enough of articles for the keywords: there is a Web Bluetooth specification, a detailed article in the Google Developer blog providing examples, there is a thorough analysis (in Russian) of Bluetooth Low Energy, examples of reverse engineering of the protocols for various BLE devices and even of blinking “smart” bulbs and getting data from fitness wristbands right from the browser — what can go wrong?","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_3.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_3.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_3.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_3.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_3.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_3.markups.0":{"type":"A","start":100,"end":113,"href":"https:\u002F\u002Fwebbluetoothcg.github.io\u002Fweb-bluetooth\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_3.markups.1":{"type":"A","start":115,"end":133,"href":"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Fupdates\u002F2015\u002F07\u002Finteract-with-ble-devices-on-the-web","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_3.markups.2":{"type":"A","start":173,"end":181,"href":"https:\u002F\u002Fgooglechrome.github.io\u002Fsamples\u002Fweb-bluetooth\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_3.markups.3":{"type":"A","start":192,"end":224,"href":"https:\u002F\u002Fgeektimes.ru\u002Fpost\u002F276558\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_3.markups.4":{"type":"EM","start":424,"end":442,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_4":{"id":"349bfa1881eb_4","name":"c209","type":"P","href":null,"layout":null,"metadata":null,"text":"I supposed so until I tried to build my own device and to chat with it from the browser. I will not dive deeply, just share my hands-on experience and code, since it would be very useful to me when I started :)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_5":{"id":"349bfa1881eb_5","name":"f062","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"It works!","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_5.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:970eb26ed1176327bafa7b251cca236f":{"id":"970eb26ed1176327bafa7b251cca236f","iframeSrc":"https:\u002F\u002Fcdn.embedly.com\u002Fwidgets\u002Fmedia.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FBNXN_931W_M%3Ffeature%3Doembed&url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DBNXN_931W_M&image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FBNXN_931W_M%2Fhqdefault.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&type=text%2Fhtml&schema=youtube","iframeHeight":480,"iframeWidth":640,"title":"Web Bluetooth Terminal","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_5.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:970eb26ed1176327bafa7b251cca236f","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_6":{"id":"349bfa1881eb_6","name":"d7a3","type":"H3","href":null,"layout":null,"metadata":null,"text":"Challenge","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_7":{"id":"349bfa1881eb_7","name":"b8a8","type":"P","href":null,"layout":null,"metadata":null,"text":"So you built a device, decided to equip it with Bluetooth module and to get access to it from the browser. Hereinafter there will be a picture of wiring a Bluetooth module to Arduino Uno, so let it be a device based on Arduino, although, of course, there is no fundamental difference whether you use STM, Raspberry, ESP8266 or anything else. The one thing important is that your controller will work with the Bluetooth module using the UART protocol (read more on Wikipedia).","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_7.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_7.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_7.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_7.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_7.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_7.markups.0":{"type":"A","start":464,"end":473,"href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FUniversal_asynchronous_receiver-transmitter","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_7.markups.1":{"type":"STRONG","start":175,"end":186,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_7.markups.2":{"type":"STRONG","start":300,"end":303,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_7.markups.3":{"type":"STRONG","start":305,"end":314,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_7.markups.4":{"type":"STRONG","start":316,"end":323,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_8":{"id":"349bfa1881eb_8","name":"11bb","type":"P","href":null,"layout":null,"metadata":null,"text":"If you, just like me, have already mounted the good old Bluetooth module HC-05 to your device, uploaded a firmware, launched some of Google examples and can’t understand the browser doesn’t detect your device, then I’m sorry to disappoint you: Web Bluetooth supports only the “Bluetooth 4 standard”.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_8.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_8.markups.0":{"type":"STRONG","start":73,"end":78,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_9":{"id":"349bfa1881eb_9","name":"631d","type":"P","href":null,"layout":null,"metadata":null,"text":"This is the reason to write this article, because when you, as well as I, will return satisfied from the nearest store with the BLE module blazing (HM-10, for example), you will find that it works quite differently and, what is more important, not supports the Serial Port Profile, by which you are used to carelessly drive bytes back and forth.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_9.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_9.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_9.markups.0":{"type":"STRONG","start":148,"end":153,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_9.markups.1":{"type":"STRONG","start":261,"end":280,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_10":{"id":"349bfa1881eb_10","name":"47dd","type":"P","href":null,"layout":null,"metadata":null,"text":"Probably you’re familiar with Bluetooth Low Energy concept already, especially with Generic Attribute Profile (GATT), but I’ll try to explain shortly what is important for us now: instead of DIY serial protocol, your device should expose a set of applied “characteristics”, which can be read and\u002For change by connected device.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_10.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_10.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_10.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_10.markups.0":{"type":"STRONG","start":30,"end":50,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_10.markups.1":{"type":"STRONG","start":84,"end":109,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_10.markups.2":{"type":"EM","start":180,"end":326,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_11":{"id":"349bfa1881eb_11","name":"6f40","type":"P","href":null,"layout":null,"metadata":null,"text":"Robotic arm for example: it moves in space by three coordinates (X, Y, Z numbers), it can open (0) or close (1) a claw. It means we should configure BLE module to read and write 4 characteristics, which can be discovered, read and overridden with desired values by a connected device.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_12":{"id":"349bfa1881eb_12","name":"115f","type":"P","href":null,"layout":null,"metadata":null,"text":"And it’s great, but here’s the thing: ordinary “hobby” level BLE modules that you’ll meet in the “next store” or on Aliexpress: HM-10, JDY-08, AT-09, some CC41-A that I got, or others — don’t have the ability to configure any services or characteristics.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_13":{"id":"349bfa1881eb_13","name":"2035","type":"P","href":null,"layout":null,"metadata":null,"text":"Instead, they provide only one characteristic that emulates a serial port, and everything you write down there, module will send to your controller via TX, and everything you send from the controller to the module RX, it will send to the connected device. BTW, with a limit of 20 bytes, inherent in any BLE characteristic, by the way.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_14":{"id":"349bfa1881eb_14","name":"0549","type":"P","href":null,"layout":null,"metadata":null,"text":"Thus, despite the fact that Web Bluetooth is limited to using the profile of common attributes, we will actually have to do a serial port profile on top of it for “domestic” use.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_15":{"id":"349bfa1881eb_15","name":"e43a","type":"H3","href":null,"layout":null,"metadata":null,"text":"Bluetooth Low Energy module configuration","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_16":{"id":"349bfa1881eb_16","name":"50e1","type":"P","href":null,"layout":null,"metadata":null,"text":"First of all, let’s configure the BLE module, it doesn’t take much time, if you know what to do. It turned out that I had a CC41-A module on the Texas Instruments CC2541 chip, which cost me around 5$ in the “next store”. So an example, I will describe its configuration, but the essence is common for other modules using a similar chip.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_16.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_16.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_16.markups.0":{"type":"STRONG","start":124,"end":131,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_16.markups.1":{"type":"STRONG","start":145,"end":170,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_17":{"id":"349bfa1881eb_17","name":"ea4e","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*UVcZYU9f6uxsurXMVF5foQ.png","typename":"ImageMetadata"},"text":"BLE module pinout for HM-10 as an example","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*UVcZYU9f6uxsurXMVF5foQ.png":{"id":"1*UVcZYU9f6uxsurXMVF5foQ.png","originalHeight":630,"originalWidth":1200,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:349bfa1881eb_18":{"id":"349bfa1881eb_18","name":"c6d9","type":"P","href":null,"layout":null,"metadata":null,"text":"If you have a USB-TTL converter, just connect the BLE module to it and you will have direct access to the module from your computer via the COM port. Pay attention to the description of your module, maybe it works with 3.3V logic, in this case you will need to use a voltage level shifter for TX-RX and RX-TX lines. The CC41-A module, despite the fact that “LEVEL:3.3V” is written on it, handles 5V logic.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_18.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_18.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_18.markups.0":{"type":"STRONG","start":14,"end":31,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_18.markups.1":{"type":"EM","start":150,"end":315,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_19":{"id":"349bfa1881eb_19","name":"9109","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*0dKid18m8dJ_3kME-24_lA.png","typename":"ImageMetadata"},"text":"Wiring BLE module to the USB-TTL converter","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*0dKid18m8dJ_3kME-24_lA.png":{"id":"1*0dKid18m8dJ_3kME-24_lA.png","originalHeight":201,"originalWidth":1200,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:349bfa1881eb_20":{"id":"349bfa1881eb_20","name":"a205","type":"P","href":null,"layout":null,"metadata":null,"text":"Instead of using the converter, you can take your controller, implementing the simplest serial bridge: everything you send to one serial port will be transfered to another, and vice versa. In the case of Arduino Uno, you will need to use the SoftwareSerial library:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_20.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_20.markups.0":{"type":"STRONG","start":242,"end":257,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_21":{"id":"349bfa1881eb_21","name":"73f0","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_21.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:bc9167129d11dc408c43a699377327ff":{"id":"bc9167129d11dc408c43a699377327ff","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"Arduino-Uno-Bridge.ino","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_21.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:bc9167129d11dc408c43a699377327ff","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_22":{"id":"349bfa1881eb_22","name":"df51","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*YHjXoR992iVMYz1NUp_NQw.png","typename":"ImageMetadata"},"text":"Wiring BLE module to the Arduino Uno","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*YHjXoR992iVMYz1NUp_NQw.png":{"id":"1*YHjXoR992iVMYz1NUp_NQw.png","originalHeight":721,"originalWidth":1200,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:349bfa1881eb_23":{"id":"349bfa1881eb_23","name":"c69d","type":"P","href":null,"layout":null,"metadata":null,"text":"Start the terminal program (you can use the Serial Monitor from Arduino IDE, I prefer Bray’s Terminal) and connect to the COM port on which the BLE module hangs with the standard settings:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_23.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_23.markups.0":{"type":"A","start":86,"end":101,"href":"https:\u002F\u002Fsites.google.com\u002Fsite\u002Fterminalbpp\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_24":{"id":"349bfa1881eb_24","name":"a329","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Baud rate: 9600","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_24.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_24.markups.0":{"type":"STRONG","start":11,"end":15,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_25":{"id":"349bfa1881eb_25","name":"8281","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Data bits: 8","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_25.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_25.markups.0":{"type":"STRONG","start":11,"end":12,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_26":{"id":"349bfa1881eb_26","name":"1d26","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Parity: none","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_26.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_26.markups.0":{"type":"STRONG","start":8,"end":12,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_27":{"id":"349bfa1881eb_27","name":"9404","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Stop bits: 1","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_27.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_27.markups.0":{"type":"STRONG","start":11,"end":12,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_28":{"id":"349bfa1881eb_28","name":"0a6b","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Handshaking: none","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_28.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_28.markups.0":{"type":"STRONG","start":13,"end":17,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_29":{"id":"349bfa1881eb_29","name":"7fe6","type":"P","href":null,"layout":null,"metadata":null,"text":"In standby mode, the module responds to AT commands ending with carriage return and line feed (CR+LF, the “Both NL & CR” option in the Serial Monitor). Some BLE modules work at a different speed by default, for example, at 38400, some modules enter into the configuration mode after pressing a button located on their board, some modules do not require commands to be in uppercase — check your module specifications.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_29.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_29.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_29.markups.0":{"type":"CODE","start":95,"end":100,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_29.markups.1":{"type":"STRONG","start":40,"end":52,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_30":{"id":"349bfa1881eb_30","name":"080a","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*r3c2L0ZQjmdOGPLfPpFsUA.png","typename":"ImageMetadata"},"text":"Terminal window during BLE module configuration","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*r3c2L0ZQjmdOGPLfPpFsUA.png":{"id":"1*r3c2L0ZQjmdOGPLfPpFsUA.png","originalHeight":683,"originalWidth":683,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:349bfa1881eb_31":{"id":"349bfa1881eb_31","name":"a36f","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s send the “AT” command to check the connection. The module should respond “OK” — it means everything is OK. In fact, it’s enough to make sure that the module works in the slave mode, waiting for the connection of the master, the UUID of the service is 0xFFE0, and the UUID of the characteristic is set to 0xFFE1 — it will be needed later. Here are some commands that work with my module:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_31.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_31.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_31.markups.0":{"type":"CODE","start":257,"end":263,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_31.markups.1":{"type":"CODE","start":310,"end":316,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_32":{"id":"349bfa1881eb_32","name":"c122","type":"ULI","href":null,"layout":null,"metadata":null,"text":"AT — check operability;","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_32.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_32.markups.0":{"type":"CODE","start":0,"end":2,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_33":{"id":"349bfa1881eb_33","name":"cba1","type":"ULI","href":null,"layout":null,"metadata":null,"text":"AT+HELP — output all commands;","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_33.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_33.markups.0":{"type":"CODE","start":0,"end":7,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_34":{"id":"349bfa1881eb_34","name":"2d4d","type":"ULI","href":null,"layout":null,"metadata":null,"text":"AT+DEFAULT — reset factory settings;","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_34.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_34.markups.0":{"type":"CODE","start":0,"end":10,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_35":{"id":"349bfa1881eb_35","name":"e52a","type":"ULI","href":null,"layout":null,"metadata":null,"text":"AT+RESET — soft reset;","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_35.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_35.markups.0":{"type":"CODE","start":0,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_36":{"id":"349bfa1881eb_36","name":"1d25","type":"ULI","href":null,"layout":null,"metadata":null,"text":"AT+ROLE — output current mode;","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_36.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_36.markups.0":{"type":"CODE","start":0,"end":7,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_37":{"id":"349bfa1881eb_37","name":"8a40","type":"ULI","href":null,"layout":null,"metadata":null,"text":"AT+ROLE0 — set slave mode;","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_37.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_37.markups.0":{"type":"CODE","start":0,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_38":{"id":"349bfa1881eb_38","name":"cbd8","type":"ULI","href":null,"layout":null,"metadata":null,"text":"AT+NAME — output module name;","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_38.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_38.markups.0":{"type":"CODE","start":0,"end":7,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_39":{"id":"349bfa1881eb_39","name":"96a9","type":"ULI","href":null,"layout":null,"metadata":null,"text":"AT+NAMESimon — set module name as Simon;","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_39.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_39.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_39.markups.0":{"type":"CODE","start":0,"end":12,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_39.markups.1":{"type":"CODE","start":34,"end":39,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_40":{"id":"349bfa1881eb_40","name":"d791","type":"ULI","href":null,"layout":null,"metadata":null,"text":"AT+PIN — output PIN code (password) for pairing;","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_40.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_40.markups.0":{"type":"CODE","start":0,"end":6,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_41":{"id":"349bfa1881eb_41","name":"e319","type":"ULI","href":null,"layout":null,"metadata":null,"text":"AT+PIN123456 —set PIN code as 123456;","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_41.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_41.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_41.markups.0":{"type":"CODE","start":0,"end":12,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_41.markups.1":{"type":"CODE","start":30,"end":36,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_42":{"id":"349bfa1881eb_42","name":"1d2e","type":"ULI","href":null,"layout":null,"metadata":null,"text":"AT+UUID — output service UUID;","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_42.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_42.markups.0":{"type":"CODE","start":0,"end":7,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_43":{"id":"349bfa1881eb_43","name":"302f","type":"ULI","href":null,"layout":null,"metadata":null,"text":"AT+UUID0xFFE0 — set service UUID as 0xFFE0;","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_43.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_43.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_43.markups.0":{"type":"CODE","start":0,"end":13,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_43.markups.1":{"type":"CODE","start":36,"end":42,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_44":{"id":"349bfa1881eb_44","name":"90a1","type":"ULI","href":null,"layout":null,"metadata":null,"text":"AT+CHAR — output characteristic UUD;","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_44.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_44.markups.0":{"type":"CODE","start":0,"end":7,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_45":{"id":"349bfa1881eb_45","name":"b7e5","type":"ULI","href":null,"layout":null,"metadata":null,"text":"AT+CHAR0xFFE1 — set characteristic UUID as 0xFFE1.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_45.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_45.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_45.markups.0":{"type":"CODE","start":0,"end":13,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_45.markups.1":{"type":"CODE","start":43,"end":49,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_46":{"id":"349bfa1881eb_46","name":"01fc","type":"P","href":null,"layout":null,"metadata":null,"text":"Now you can try to connect to the BLE module, for example from the Characteristic Properties Sample page, specifying “0xFFE0” as a service and “0xFFE1” as a characteristic. Or even to send something from the terminal to the browser using the Notifications Sample page.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_46.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_46.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_46.markups.0":{"type":"A","start":67,"end":99,"href":"https:\u002F\u002Fgooglechrome.github.io\u002Fsamples\u002Fweb-bluetooth\u002Fcharacteristic-properties.html","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_46.markups.1":{"type":"A","start":242,"end":262,"href":"https:\u002F\u002Fgooglechrome.github.io\u002Fsamples\u002Fweb-bluetooth\u002Fnotifications.html","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_47":{"id":"349bfa1881eb_47","name":"0bc9","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*rGENkdZvMnntOKiGWngKvw.png","typename":"ImageMetadata"},"text":"Receiving information about the characteristic and the data sent from the terminal","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*rGENkdZvMnntOKiGWngKvw.png":{"id":"1*rGENkdZvMnntOKiGWngKvw.png","originalHeight":683,"originalWidth":1465,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:349bfa1881eb_48":{"id":"349bfa1881eb_48","name":"fa65","type":"H3","href":null,"layout":null,"metadata":null,"text":"Building a web app","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_49":{"id":"349bfa1881eb_49","name":"2de8","type":"P","href":null,"layout":null,"metadata":null,"text":"Warm up is over, now to the interesting part!","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_50":{"id":"349bfa1881eb_50","name":"7a75","type":"H4","href":null,"layout":null,"metadata":null,"text":"Concept","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_51":{"id":"349bfa1881eb_51","name":"5b96","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s consider the concept of your device control. You create a UI with a variety of controls that will interact with your device building an ordinary HTML page in the browser.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_52":{"id":"349bfa1881eb_52","name":"5749","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*RwT2bS7IA5SzUZRFRagpMw.png","typename":"ImageMetadata"},"text":"Example of the app UI to control robotic arm","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*RwT2bS7IA5SzUZRFRagpMw.png":{"id":"1*RwT2bS7IA5SzUZRFRagpMw.png","originalHeight":683,"originalWidth":359,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:349bfa1881eb_53":{"id":"349bfa1881eb_53","name":"83b8","type":"P","href":null,"layout":null,"metadata":null,"text":"If it’s a robotic arm moving in three coordinates and opening and closing the claw, then it can be three numerical sliders or even a 2D surface, when you click on which the values of X and Y are calculated, one slider for movement along the Z axis and a button, opening or closing the claw. If it’s a kettle, you can make a button “Boil it!”. If it’s a RC car, you can make the “forward”, “backward”, “leftward”, “rightward”, “turn on \u002F off the headlights”, “give a signal” buttons, etc.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_54":{"id":"349bfa1881eb_54","name":"279b","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*64wfse0ziVvemJOdvWOPyA.png","typename":"ImageMetadata"},"text":"The overall picture of what happens under the hood","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*64wfse0ziVvemJOdvWOPyA.png":{"id":"1*64wfse0ziVvemJOdvWOPyA.png","originalHeight":630,"originalWidth":1200,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:349bfa1881eb_55":{"id":"349bfa1881eb_55","name":"542a","type":"P","href":null,"layout":null,"metadata":null,"text":"Defining the handlers for clicking or changing the states of certain UI elements in JavaScript, you form a message that you send via the Web Bluetooth API to your device. The BLE module receives the message, forwards it to the controller via UART, the controller parses the message, takes the required actions and can send a response or an error as a message back to the BLE module using the same UART, then the module will pass it to the connected device, and you receive a response with the help of JS in the browser.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_56":{"id":"349bfa1881eb_56","name":"7b59","type":"P","href":null,"layout":null,"metadata":null,"text":"For example, when you press the claw closure button, the onclick button handler is triggered, which sends the GRIPPER=CLOSE message. The controller receives a message, understands what it’s required to do, closes the claw and sends back the GRIPPER=CLOSED message. Processing this message, we remember the state of the claw in JS and change the text on the button to “Open”.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_56.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_56.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_56.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_56.markups.0":{"type":"CODE","start":57,"end":64,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_56.markups.1":{"type":"CODE","start":110,"end":123,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_56.markups.2":{"type":"CODE","start":241,"end":255,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_57":{"id":"349bfa1881eb_57","name":"6fc7","type":"H4","href":null,"layout":null,"metadata":null,"text":"Objective","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_58":{"id":"349bfa1881eb_58","name":"004b","type":"P","href":null,"layout":null,"metadata":null,"text":"Creating an HTML page (UI) and simple work with JavaScript event handlers is not such a complicated matter and there is enough basic knowledge of web technologies. Therefore, I propose to abstract from a specific device and create a terminal application that will connect to your device and exchange messages with it.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_58.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_58.markups.0":{"type":"STRONG","start":224,"end":317,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_59":{"id":"349bfa1881eb_59","name":"a034","type":"P","href":null,"layout":null,"metadata":null,"text":"Also we’ll implement the logging of the connecting to Bluetooth Low Energy device process, reconnection in case of break of communication and bypass the 20 bytes limitation of the BLE characteristic length.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_59.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_59.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_59.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_59.markups.0":{"type":"STRONG","start":21,"end":50,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_59.markups.1":{"type":"STRONG","start":91,"end":137,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_59.markups.2":{"type":"STRONG","start":142,"end":172,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_60":{"id":"349bfa1881eb_60","name":"4c4c","type":"P","href":null,"layout":null,"metadata":null,"text":"Well, in the end we’ll turn the usual HTML page into a progressive web application (Google Developers, Wikipedia), which can be installed to the smartphone homescreen and used offline.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_60.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_60.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_60.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_60.markups.0":{"type":"A","start":84,"end":101,"href":"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Fprogressive-web-apps\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_60.markups.1":{"type":"A","start":103,"end":112,"href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FProgressive_web_app","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_60.markups.2":{"type":"STRONG","start":55,"end":82,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_61":{"id":"349bfa1881eb_61","name":"7477","type":"P","href":null,"layout":null,"metadata":null,"text":"Having ability to exchange messages between an HTML page and your device, a stable connection and a simple API, it’s easy to sharpen the application for your needs.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_62":{"id":"349bfa1881eb_62","name":"fdb6","type":"H4","href":null,"layout":null,"metadata":null,"text":"Preparation","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_63":{"id":"349bfa1881eb_63","name":"2f31","type":"P","href":null,"layout":null,"metadata":null,"text":"Appart of your favorite IDE, you will need a working “device”, which we configured earlier, it’ll help to receive and send messages in real time through the terminal program on the computer for application testing.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_63.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_63.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_63.markups.0":{"type":"STRONG","start":24,"end":27,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_63.markups.1":{"type":"STRONG","start":54,"end":60,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_64":{"id":"349bfa1881eb_64","name":"7b92","type":"P","href":null,"layout":null,"metadata":null,"text":"Web Bluetooth API is available by default in Chrome 56+ and Opera 43+. The Google Developers article also mentions that in Linux you need to enable chrome:\u002F\u002Fflags\u002F#enable-experimental-web-platform-features flag and restart the browser.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_64.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_64.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_64.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_64.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_64.markups.0":{"type":"CODE","start":148,"end":205,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_64.markups.1":{"type":"A","start":93,"end":100,"href":"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Fupdates\u002F2015\u002F07\u002Finteract-with-ble-devices-on-the-web","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_64.markups.2":{"type":"STRONG","start":45,"end":55,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_64.markups.3":{"type":"STRONG","start":60,"end":69,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_65":{"id":"349bfa1881eb_65","name":"a1c7","type":"P","href":null,"layout":null,"metadata":null,"text":"And the last important point: a web app should be served using HTTPS (you can use GitHub Pages) or from the http:\u002F\u002Flocalhost — these are security requirements.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_65.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_65.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_65.markups.0":{"type":"A","start":82,"end":94,"href":"https:\u002F\u002Fpages.github.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_65.markups.1":{"type":"STRONG","start":63,"end":68,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_66":{"id":"349bfa1881eb_66","name":"ab4e","type":"H4","href":null,"layout":null,"metadata":null,"text":"UI","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_67":{"id":"349bfa1881eb_67","name":"414f","type":"P","href":null,"layout":null,"metadata":null,"text":"App will consist of one index.html page, one styles.css and one main.js file, the latter will contain all the magic.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_67.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_67.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_67.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_67.markups.0":{"type":"CODE","start":24,"end":34,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_67.markups.1":{"type":"CODE","start":45,"end":55,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_67.markups.2":{"type":"CODE","start":64,"end":71,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_68":{"id":"349bfa1881eb_68","name":"0493","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s make a button to connect to the device, a button to disconect, div-container for messages and a form with a text field and a “Send” button:","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_69":{"id":"349bfa1881eb_69","name":"9a3a","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_69.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:64352ce8c22799b23624077cfb915d85":{"id":"64352ce8c22799b23624077cfb915d85","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 1","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_69.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:64352ce8c22799b23624077cfb915d85","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_70":{"id":"349bfa1881eb_70","name":"124d","type":"P","href":null,"layout":null,"metadata":null,"text":"Div-container will log connection process, output incoming and outcoming messages in the follow manner:","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_71":{"id":"349bfa1881eb_71","name":"32f6","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_71.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:b9a3a65eea359ad7ce4167da9af1e961":{"id":"b9a3a65eea359ad7ce4167da9af1e961","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 2","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_71.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:b9a3a65eea359ad7ce4167da9af1e961","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_72":{"id":"349bfa1881eb_72","name":"9641","type":"P","href":null,"layout":null,"metadata":null,"text":"In order not to guess messages source, let’s divide them by colors:","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_73":{"id":"349bfa1881eb_73","name":"88da","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_73.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:d06ca4054dd5b8122c38ec41f96ccfe1":{"id":"d06ca4054dd5b8122c38ec41f96ccfe1","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 3","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_73.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:d06ca4054dd5b8122c38ec41f96ccfe1","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_74":{"id":"349bfa1881eb_74","name":"35bb","type":"P","href":null,"layout":null,"metadata":null,"text":"As you can see, nothing special. The interface is ready :)","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_75":{"id":"349bfa1881eb_75","name":"8147","type":"H4","href":null,"layout":null,"metadata":null,"text":"Event handlers","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_76":{"id":"349bfa1881eb_76","name":"6c6b","type":"P","href":null,"layout":null,"metadata":null,"text":"Further work will occur in the main.js file.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_76.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_76.markups.0":{"type":"CODE","start":31,"end":38,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_77":{"id":"349bfa1881eb_77","name":"815f","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s get references to UI elements, set up handlers on the connect and disconnect buttons click and on the form submit:","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_78":{"id":"349bfa1881eb_78","name":"e5ff","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_78.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:a5ca8fc7816fff3dd3db139e70c7e894":{"id":"a5ca8fc7816fff3dd3db139e70c7e894","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 4","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_78.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:a5ca8fc7816fff3dd3db139e70c7e894","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_79":{"id":"349bfa1881eb_79","name":"4bac","type":"H4","href":null,"layout":null,"metadata":null,"text":"Connecting to the device","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_80":{"id":"349bfa1881eb_80","name":"6636","type":"P","href":null,"layout":null,"metadata":null,"text":"Complete connection algorithm consists of several steps:","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_81":{"id":"349bfa1881eb_81","name":"152a","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Bluetooth device request: the browser starts the search of the nearest device and choose dialog, the user makes a choice, the app code gets the object.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_82":{"id":"349bfa1881eb_82","name":"b0cd","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Connecting to the selected device fom the app code:\na) connection to the GATT server,\nb) getting the desired service,\nc) getting the desired characteristic.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_83":{"id":"349bfa1881eb_83","name":"6a13","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Enabling the characteristic changes notification — it’s necessary to receive messages from your device.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_84":{"id":"349bfa1881eb_84","name":"0fb6","type":"P","href":null,"layout":null,"metadata":null,"text":"Arrange in the code:","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_85":{"id":"349bfa1881eb_85","name":"bb34","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_85.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:5557dd669812c4ac9ec817c51b0da6e9":{"id":"5557dd669812c4ac9ec817c51b0da6e9","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 5","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_85.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:5557dd669812c4ac9ec817c51b0da6e9","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_86":{"id":"349bfa1881eb_86","name":"f964","type":"P","href":null,"layout":null,"metadata":null,"text":"So we implemented Promises chain representing connection steps in connect() function.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_86.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_86.markups.0":{"type":"CODE","start":66,"end":75,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_87":{"id":"349bfa1881eb_87","name":"7c25","type":"P","href":null,"layout":null,"metadata":null,"text":"We also defined the deviceCache variable, which will store object of the device selected by the user in order to reconnect to in case of disconnection.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_87.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_87.markups.0":{"type":"CODE","start":20,"end":31,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_88":{"id":"349bfa1881eb_88","name":"995d","type":"P","href":null,"layout":null,"metadata":null,"text":"The first line of the connect() function body: if the deviceCache object is nonzero the ternary operator returns a Promise immediately fulfilled, otherwise it accesses to the Bluetooth device request function. Thus, when the “Connect” button is pressed if the user has already connected to the device, the device selection dialog does not appear.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_88.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_88.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_88.markups.0":{"type":"CODE","start":22,"end":31,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_88.markups.1":{"type":"CODE","start":54,"end":65,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_89":{"id":"349bfa1881eb_89","name":"faf4","type":"P","href":null,"layout":null,"metadata":null,"text":"We output error to the terminal with the help of log() function, if it occurs at any step. This function will be implemented later.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_89.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_89.markups.0":{"type":"CODE","start":49,"end":54,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_90":{"id":"349bfa1881eb_90","name":"1713","type":"P","href":null,"layout":null,"metadata":null,"text":"Bluetooth device request","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_90.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_90.markups.0":{"type":"STRONG","start":0,"end":24,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_91":{"id":"349bfa1881eb_91","name":"2e0d","type":"P","href":null,"layout":null,"metadata":null,"text":"In order to request Bluetooth device selection, it’s needed to invoke navigator.bluetooth.requestDevice() with object-configuration as required argument, which describes in what type of Bluetooth devices we interested in. It’s possible to filter by service, by name, it’s possible to request all types of devices, however we still have to specify service we want to work with, otherwise browser will not allow us to access to it.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_91.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_91.markups.0":{"type":"CODE","start":70,"end":105,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_92":{"id":"349bfa1881eb_92","name":"ba35","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_92.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:f7c15393934eed05844015599560cbc1":{"id":"f7c15393934eed05844015599560cbc1","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 6","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_92.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:f7c15393934eed05844015599560cbc1","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_93":{"id":"349bfa1881eb_93","name":"9d08","type":"P","href":null,"layout":null,"metadata":null,"text":"We are requesting all devices that provide a service with 0xFFE0 UUID, the same as configured in the BLE module. Promise fulfilled with the selected device object, so we cache it and return.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_93.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_93.markups.0":{"type":"CODE","start":58,"end":64,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_94":{"id":"349bfa1881eb_94","name":"e26a","type":"P","href":null,"layout":null,"metadata":null,"text":"Connecting to the device, getting service and characteristic objects","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_94.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_94.markups.0":{"type":"STRONG","start":0,"end":68,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_95":{"id":"349bfa1881eb_95","name":"9653","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_95.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:806fbd2a7d74a6bdb57e79b5ca6e54ee":{"id":"806fbd2a7d74a6bdb57e79b5ca6e54ee","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 7","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_95.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:806fbd2a7d74a6bdb57e79b5ca6e54ee","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_96":{"id":"349bfa1881eb_96","name":"8a31","type":"P","href":null,"layout":null,"metadata":null,"text":"We perform a simple Promise chain, which speaks for itself. The characteristicCache variable — similar to deviceCache — saves the received characteristic object, it will be required to write data to it, in other words to send a message from the browser to the device.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_96.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_96.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_96.markups.0":{"type":"CODE","start":64,"end":84,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_96.markups.1":{"type":"CODE","start":106,"end":118,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_97":{"id":"349bfa1881eb_97","name":"c74e","type":"P","href":null,"layout":null,"metadata":null,"text":"UUIDs configured in the BLE module used as an argument n getPrimaryService() andgetCharacteristic() functions.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_97.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_97.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_97.markups.0":{"type":"CODE","start":57,"end":76,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_97.markups.1":{"type":"CODE","start":80,"end":99,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_98":{"id":"349bfa1881eb_98","name":"6af9","type":"P","href":null,"layout":null,"metadata":null,"text":"Enabling the characteristic changes notification","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_98.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_98.markups.0":{"type":"STRONG","start":0,"end":48,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_99":{"id":"349bfa1881eb_99","name":"94db","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_99.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:40bbc9354df09f59f5a1b47ad06c4995":{"id":"40bbc9354df09f59f5a1b47ad06c4995","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 8","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_99.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:40bbc9354df09f59f5a1b47ad06c4995","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_100":{"id":"349bfa1881eb_100","name":"63a7","type":"P","href":null,"layout":null,"metadata":null,"text":"It is enough to call the startNotifications() method of the characteristic object, and listen for the characteristic change event after, but more on that later.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_100.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_100.markups.0":{"type":"CODE","start":25,"end":45,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_101":{"id":"349bfa1881eb_101","name":"bd54","type":"P","href":null,"layout":null,"metadata":null,"text":"Output to the terminal","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_101.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_101.markups.0":{"type":"STRONG","start":0,"end":22,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_102":{"id":"349bfa1881eb_102","name":"9cbb","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s implement a function to output to the terminal, to test the connection to the device right now:","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_103":{"id":"349bfa1881eb_103","name":"181e","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_103.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:4aedc5eceae958d620e6148666398eb9":{"id":"4aedc5eceae958d620e6148666398eb9","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 9","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_103.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:4aedc5eceae958d620e6148666398eb9","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_104":{"id":"349bfa1881eb_104","name":"d413","type":"P","href":null,"layout":null,"metadata":null,"text":"We insert a div with the class specified in the type argument to the end of the terminal div-container using the insertAdjacentHTML() method — easy peasy.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_104.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_104.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_104.markups.0":{"type":"CODE","start":48,"end":52,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_104.markups.1":{"type":"CODE","start":113,"end":133,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_105":{"id":"349bfa1881eb_105","name":"dc80","type":"P","href":null,"layout":null,"metadata":null,"text":"Testing","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_105.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_105.markups.0":{"type":"STRONG","start":0,"end":7,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_106":{"id":"349bfa1881eb_106","name":"8aef","type":"P","href":null,"layout":null,"metadata":null,"text":"Open the page in the browser, click the “Connect” button, and then the device selection dialog will start. Connect to your device, and the terminal will output messages about the connection process.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_107":{"id":"349bfa1881eb_107","name":"4ab4","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*D4zGdmOt7zBuf3BP8S485g.png","typename":"ImageMetadata"},"text":"Device selection and connection","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*D4zGdmOt7zBuf3BP8S485g.png":{"id":"1*D4zGdmOt7zBuf3BP8S485g.png","originalHeight":683,"originalWidth":750,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:349bfa1881eb_108":{"id":"349bfa1881eb_108","name":"a181","type":"P","href":null,"layout":null,"metadata":null,"text":"Here I run into a bluetooth connection problem that wasn’t described in the Internet. Service messages output helped diagnose and fix it. The connection can suddenly be lost for no apparent reason, and the browser does not provide its maintenance, that’s why we need to implement the reconnection functionality on our own.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_109":{"id":"349bfa1881eb_109","name":"db73","type":"H4","href":null,"layout":null,"metadata":null,"text":"Automatic reconnection","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_110":{"id":"349bfa1881eb_110","name":"c0dc","type":"P","href":null,"layout":null,"metadata":null,"text":"Web Bluetooth offers a gattserverdisconnected event for the device object to track the disconnection. The most actual place to define a listener is in the device selection function:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_110.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_110.markups.0":{"type":"CODE","start":23,"end":45,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_111":{"id":"349bfa1881eb_111","name":"f58f","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_111.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:1457498bd29f7ebf66ce31530f934015":{"id":"1457498bd29f7ebf66ce31530f934015","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 10","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_111.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:1457498bd29f7ebf66ce31530f934015","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_112":{"id":"349bfa1881eb_112","name":"e94c","type":"P","href":null,"layout":null,"metadata":null,"text":"Now, if you connect to the device and then disconnect it, and the Bluetooth connection will be lost, the browser will try to reconnect once:","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_113":{"id":"349bfa1881eb_113","name":"74de","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*UwfGoCC7gQZkdGr2tu3Sjw.png","typename":"ImageMetadata"},"text":"Trying to reconnect","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*UwfGoCC7gQZkdGr2tu3Sjw.png":{"id":"1*UwfGoCC7gQZkdGr2tu3Sjw.png","originalHeight":683,"originalWidth":359,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:349bfa1881eb_114":{"id":"349bfa1881eb_114","name":"35d8","type":"H4","href":null,"layout":null,"metadata":null,"text":"Disconnecting from the device","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_115":{"id":"349bfa1881eb_115","name":"a65f","type":"P","href":null,"layout":null,"metadata":null,"text":"It’s important not to forget to remove the assigned handler for the gattserverdisconnected event, otherwise the browser will reconnect:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_115.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_115.markups.0":{"type":"CODE","start":68,"end":90,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_116":{"id":"349bfa1881eb_116","name":"0d37","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_116.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:364629071d8d99d8cffd1b2ffbd6cc7d":{"id":"364629071d8d99d8cffd1b2ffbd6cc7d","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 11","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_116.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:364629071d8d99d8cffd1b2ffbd6cc7d","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_117":{"id":"349bfa1881eb_117","name":"771d","type":"P","href":null,"layout":null,"metadata":null,"text":"You can not reset the deviceCache, then when you click the “Connect” button, the device selection dialog will not appear, connecting to the previous device instead.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_117.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_117.markups.0":{"type":"CODE","start":22,"end":33,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_118":{"id":"349bfa1881eb_118","name":"c5eb","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*iji4OYGtmIj8_lVebjLspA.png","typename":"ImageMetadata"},"text":"Disconnection","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*iji4OYGtmIj8_lVebjLspA.png":{"id":"1*iji4OYGtmIj8_lVebjLspA.png","originalHeight":683,"originalWidth":359,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:349bfa1881eb_119":{"id":"349bfa1881eb_119","name":"bce4","type":"H4","href":null,"layout":null,"metadata":null,"text":"Data receiving","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_120":{"id":"349bfa1881eb_120","name":"4057","type":"P","href":null,"layout":null,"metadata":null,"text":"Data is received from the device asynchronously using the notification mechanism that occurs when the value of the BLE characteristic changes. We only need to subscribe to the corresponding characteristicvaluechanged characteristic event. Do this right after notifications turning on. It is also correct to remove the handler from the characteristic when the device is disconnected:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_120.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_120.markups.0":{"type":"CODE","start":190,"end":216,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_121":{"id":"349bfa1881eb_121","name":"86a2","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_121.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:270ae5b62e3f9e07de64cc012fc02c81":{"id":"270ae5b62e3f9e07de64cc012fc02c81","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 12","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_121.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:270ae5b62e3f9e07de64cc012fc02c81","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_122":{"id":"349bfa1881eb_122","name":"cc54","type":"P","href":null,"layout":null,"metadata":null,"text":"event.target.value — is a DataView object, containing ArrayBuffer, which stores message from your device. Using TextDecoder (MDN), we convert bytes array to the text.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_122.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_122.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_122.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_122.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_122.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_122.markups.0":{"type":"CODE","start":0,"end":18,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_122.markups.1":{"type":"CODE","start":112,"end":123,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_122.markups.2":{"type":"A","start":26,"end":34,"href":"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FJavaScript\u002FReference\u002FGlobal_Objects\u002FDataView","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_122.markups.3":{"type":"A","start":54,"end":65,"href":"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FJavaScript\u002FReference\u002FGlobal_Objects\u002FArrayBuffer","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_122.markups.4":{"type":"A","start":125,"end":128,"href":"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FTextDecoder","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_123":{"id":"349bfa1881eb_123","name":"c018","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*NqLMbFn-PSRMqBTWhQH5zg.png","typename":"ImageMetadata"},"text":"Sending data from the terminal and receiving in the browser","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*NqLMbFn-PSRMqBTWhQH5zg.png":{"id":"1*NqLMbFn-PSRMqBTWhQH5zg.png","originalHeight":683,"originalWidth":1074,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:349bfa1881eb_124":{"id":"349bfa1881eb_124","name":"bd44","type":"P","href":null,"layout":null,"metadata":null,"text":"Testing shows that the messages receiving from the device works stably, with CR, LF end of line or without them. Long messages are received completely, but are split by 20 bytes.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_124.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_124.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_124.markups.0":{"type":"CODE","start":77,"end":79,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_124.markups.1":{"type":"CODE","start":81,"end":83,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_125":{"id":"349bfa1881eb_125","name":"7a81","type":"H4","href":null,"layout":null,"metadata":null,"text":"Introduction of the intermediate buffer","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_126":{"id":"349bfa1881eb_126","name":"d02f","type":"P","href":null,"layout":null,"metadata":null,"text":"You may not need to support messages longer than 20 bytes, but for the sake of completeness, let’s go around this limitation. The idea is simple: we’ll write the incoming strings into the intermediate buffer until we’ll get the delimiter character. When the delimiter character is received, we call the third function, passing data from the buffer, and clear the buffer for the subsequent writing.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_127":{"id":"349bfa1881eb_127","name":"6a88","type":"P","href":null,"layout":null,"metadata":null,"text":"It’s logical to make the line feed (LF, \\n) the delimiter character. It may also be helpful to trim the message:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_127.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_127.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_127.markups.0":{"type":"CODE","start":36,"end":38,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_127.markups.1":{"type":"CODE","start":40,"end":42,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_128":{"id":"349bfa1881eb_128","name":"30a5","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_128.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:3f36f6c3829c8b48cecc2b1107635de5":{"id":"3f36f6c3829c8b48cecc2b1107635de5","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 13","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_128.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:3f36f6c3829c8b48cecc2b1107635de5","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_129":{"id":"349bfa1881eb_129","name":"bf2d","type":"P","href":null,"layout":null,"metadata":null,"text":"When creating a web app specific for your device, you can change the receive() function to your own needs, being sure that you are working with the whole message from the device.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_129.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_129.markups.0":{"type":"CODE","start":69,"end":78,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_130":{"id":"349bfa1881eb_130","name":"62d5","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*bBL7-xKbGCAj9wcY4hoFUg.png","typename":"ImageMetadata"},"text":"Sending data from the terminal and receiving in the browser with intermediate buffer","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*bBL7-xKbGCAj9wcY4hoFUg.png":{"id":"1*bBL7-xKbGCAj9wcY4hoFUg.png","originalHeight":683,"originalWidth":1074,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:349bfa1881eb_131":{"id":"349bfa1881eb_131","name":"c5f8","type":"H4","href":null,"layout":null,"metadata":null,"text":"Data sending","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_132":{"id":"349bfa1881eb_132","name":"2c95","type":"P","href":null,"layout":null,"metadata":null,"text":"Sending data to the device is done by writing a value to the characteristic, and more specifically by calling the writeValue() method of the characteristic object with ArrayBuffer as its argument. To convert a string into ArrayBuffer, it’s easiest to use TextEncoder (MDN):","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_132.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_132.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_132.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_132.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_132.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_132.markups.0":{"type":"CODE","start":114,"end":126,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_132.markups.1":{"type":"CODE","start":168,"end":179,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_132.markups.2":{"type":"CODE","start":222,"end":233,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_132.markups.3":{"type":"CODE","start":255,"end":266,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_132.markups.4":{"type":"A","start":268,"end":271,"href":"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FTextEncoder","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_133":{"id":"349bfa1881eb_133","name":"98df","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_133.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:2b7861bd666368f397f18e91e69a2610":{"id":"2b7861bd666368f397f18e91e69a2610","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 14","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_133.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:2b7861bd666368f397f18e91e69a2610","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_134":{"id":"349bfa1881eb_134","name":"f627","type":"P","href":null,"layout":null,"metadata":null,"text":"Just in case, the data is converted to a string type using the global String object.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_134.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_134.markups.0":{"type":"CODE","start":70,"end":76,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_135":{"id":"349bfa1881eb_135","name":"845a","type":"P","href":null,"layout":null,"metadata":null,"text":"In this implementation, there is the same 20 bytes limitation: anything that goes beyond is simply truncated. Therefore, in case the message is longer than 20 bytes, it’s worth to break it into chunks and send it in sequence with some delay:","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_136":{"id":"349bfa1881eb_136","name":"05db","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_136.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:89f6280f5bcb436e9221703f02721c21":{"id":"89f6280f5bcb436e9221703f02721c21","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 15","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_136.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:89f6280f5bcb436e9221703f02721c21","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_137":{"id":"349bfa1881eb_137","name":"02b9","type":"P","href":null,"layout":null,"metadata":null,"text":"To make it easier to process messages on the controller side, add a line feed character (\\n) to the end of the message.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_137.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_137.markups.0":{"type":"CODE","start":89,"end":91,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_138":{"id":"349bfa1881eb_138","name":"b421","type":"P","href":null,"layout":null,"metadata":null,"text":"The message is split into chunks using a regular expression that correctly handles the carriage return (CR, \\r) and line feed (LF, \\n) characters. After that the first part is sent immediately, and timeouts are set to send other chunks with a delay of 100 milliseconds.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_138.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_138.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_138.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_138.markups.3","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_138.markups.0":{"type":"CODE","start":104,"end":106,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_138.markups.1":{"type":"CODE","start":108,"end":110,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_138.markups.2":{"type":"CODE","start":127,"end":129,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_138.markups.3":{"type":"CODE","start":131,"end":133,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_139":{"id":"349bfa1881eb_139","name":"abca","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*fK31OhAlNKXeJcROXeVvOw.png","typename":"ImageMetadata"},"text":"Data exchange between the terminal and the browser","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*fK31OhAlNKXeJcROXeVvOw.png":{"id":"1*fK31OhAlNKXeJcROXeVvOw.png","originalHeight":683,"originalWidth":1074,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:349bfa1881eb_140":{"id":"349bfa1881eb_140","name":"1151","type":"P","href":null,"layout":null,"metadata":null,"text":"It woks! So we got a full-featured two-way data exchange with the device and at this point we are done with JS.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_141":{"id":"349bfa1881eb_141","name":"e60f","type":"H4","href":null,"layout":null,"metadata":null,"text":"Progressive Web App","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_142":{"id":"349bfa1881eb_142","name":"2803","type":"P","href":null,"layout":null,"metadata":null,"text":"We don’t know in what conditions your device will be in advance, so it would be nice to be able to work with the created web app offline. And here the concept of Progressive Web Apps (more details on Google Developers or on Wikipedia) will help us: in a nutshell these are websites that look like ordinary or mobile apps for the user. With the use of PWA technologies at the first time you visit the website, you’ll be able to install it as an application on your smartphone’s homescreen and work with it offline.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_142.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_142.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_142.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_142.markups.0":{"type":"A","start":200,"end":217,"href":"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Fprogressive-web-apps\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_142.markups.1":{"type":"A","start":224,"end":233,"href":"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FProgressive_web_app","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_142.markups.2":{"type":"STRONG","start":162,"end":182,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_143":{"id":"349bfa1881eb_143","name":"010f","type":"P","href":null,"layout":null,"metadata":null,"text":"Icon","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_143.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_143.markups.0":{"type":"STRONG","start":0,"end":4,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_144":{"id":"349bfa1881eb_144","name":"1ace","type":"P","href":null,"layout":null,"metadata":null,"text":"The icon is required to install the application to the homescreen. I use realfavicongenerator.net — upload suitable image and the generator will prompt you to adjust the icons for different devices.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_144.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_144.markups.0":{"type":"A","start":73,"end":97,"href":"https:\u002F\u002Frealfavicongenerator.net\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_145":{"id":"349bfa1881eb_145","name":"13c6","type":"P","href":null,"layout":null,"metadata":null,"text":"In the “Favicon for Android Chrome” section, I recommend to switch to the “Assets” tab and select “Create all documented icons”, otherwise Chrome will generate an icon for the homescreen from the size closest to the desired size, which can vary on different devices.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_146":{"id":"349bfa1881eb_146","name":"c6bb","type":"P","href":null,"layout":null,"metadata":null,"text":"After finishing the configuration, press the “Generate” button, download the “Favicon package” and unpack it next to the web page. Also copy the code proposed by the generator to the \u003Chead\u003E.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_146.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_146.markups.0":{"type":"CODE","start":183,"end":189,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_147":{"id":"349bfa1881eb_147","name":"d369","type":"P","href":null,"layout":null,"metadata":null,"text":"Manifest","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_147.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_147.markups.0":{"type":"STRONG","start":0,"end":8,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_148":{"id":"349bfa1881eb_148","name":"7364","type":"P","href":null,"layout":null,"metadata":null,"text":"Together with the icons, the generator has kindly provided us with a manifest boilerplate — manifest.json:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_148.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_148.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_148.markups.0":{"type":"CODE","start":92,"end":105,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_148.markups.1":{"type":"A","start":69,"end":77,"href":"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FManifest","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_149":{"id":"349bfa1881eb_149","name":"6d75","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_149.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:22897b70cf0e7920005480aba0dd4ea2":{"id":"22897b70cf0e7920005480aba0dd4ea2","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 16","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_149.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:22897b70cf0e7920005480aba0dd4ea2","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_150":{"id":"349bfa1881eb_150","name":"d1b9","type":"P","href":null,"layout":null,"metadata":null,"text":"Specify the name of your application in the name property and add the short_name property containing the abbreviated name, no more than 12 characters.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_150.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_150.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_150.markups.0":{"type":"CODE","start":44,"end":48,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_150.markups.1":{"type":"CODE","start":70,"end":80,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_151":{"id":"349bfa1881eb_151","name":"4ea0","type":"P","href":null,"layout":null,"metadata":null,"text":"All the generated icons are already listed in the icons array, the app display mode in the display property. standalone means that the web application will be launched without the browser UI elements, which is the most similar to the native application — exactly what is needed.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_151.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_151.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_151.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_151.markups.0":{"type":"CODE","start":50,"end":55,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_151.markups.1":{"type":"CODE","start":91,"end":98,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_151.markups.2":{"type":"CODE","start":109,"end":119,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_152":{"id":"349bfa1881eb_152","name":"5542","type":"P","href":null,"layout":null,"metadata":null,"text":"The browser will color its toolbar in the theme_color color, and background_color will be used as a background for the Splash screen shown on the app launch. Changing the theme_color in the manifest, do not forget to change the meta tag \u003Cmeta name=”theme-color” content=“#ffffff”\u003E also.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_152.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_152.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_152.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_152.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_152.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_152.markups.0":{"type":"CODE","start":42,"end":53,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_152.markups.1":{"type":"CODE","start":65,"end":81,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_152.markups.2":{"type":"CODE","start":171,"end":182,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_152.markups.3":{"type":"CODE","start":237,"end":280,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_152.markups.4":{"type":"STRONG","start":119,"end":132,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_153":{"id":"349bfa1881eb_153","name":"bc37","type":"P","href":null,"layout":null,"metadata":null,"text":"It’s also worth to define the start_url and scope properties equal to .\u002F, to open main page on the application launch firstly, and to constrain the navigation area of the web app with the current and nested pages secondly. The latter can be useful if the application files aren’t located in the root directory of the website.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_153.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_153.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_153.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_153.markups.0":{"type":"CODE","start":30,"end":39,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_153.markups.1":{"type":"CODE","start":44,"end":49,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_153.markups.2":{"type":"CODE","start":70,"end":72,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_154":{"id":"349bfa1881eb_154","name":"0659","type":"P","href":null,"layout":null,"metadata":null,"text":"Service Worker","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_154.markups.0","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_154.markups.0":{"type":"STRONG","start":0,"end":14,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_155":{"id":"349bfa1881eb_155","name":"2a1d","type":"P","href":null,"layout":null,"metadata":null,"text":"Service Worker will allow us to cache files necessary for the app and use them offline. Service Worker Toolbox will help us to quickly create our own, just download sw-toolbox.js and companion.js files, place them next to index.html and add the following to the \u003Cbody\u003E end:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_155.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_155.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_155.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_155.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_155.markups.4","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_155.markups.5","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_155.markups.0":{"type":"CODE","start":222,"end":232,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_155.markups.1":{"type":"CODE","start":262,"end":268,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_155.markups.2":{"type":"A","start":0,"end":14,"href":"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FService_Worker_API","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_155.markups.3":{"type":"A","start":88,"end":110,"href":"https:\u002F\u002Fgithub.com\u002FGoogleChromeLabs\u002Fsw-toolbox","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_155.markups.4":{"type":"A","start":165,"end":178,"href":"https:\u002F\u002Fraw.githubusercontent.com\u002FGoogleChromeLabs\u002Fsw-toolbox\u002Fmaster\u002Fsw-toolbox.js","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_155.markups.5":{"type":"A","start":183,"end":195,"href":"https:\u002F\u002Fraw.githubusercontent.com\u002FGoogleChromeLabs\u002Fsw-toolbox\u002Fmaster\u002Fcompanion.js","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_156":{"id":"349bfa1881eb_156","name":"9bde","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_156.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:2843f6a1ca0c739a435549b29b95aee7":{"id":"2843f6a1ca0c739a435549b29b95aee7","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 17","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_156.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:2843f6a1ca0c739a435549b29b95aee7","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_157":{"id":"349bfa1881eb_157","name":"3ddb","type":"P","href":null,"layout":null,"metadata":null,"text":"The last thing is to add the sw.js script next to index.html to cache necessary files:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_157.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_157.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_157.markups.0":{"type":"CODE","start":29,"end":34,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_157.markups.1":{"type":"CODE","start":50,"end":60,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_158":{"id":"349bfa1881eb_158","name":"8991","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":{"type":"id","generated":true,"id":"$Paragraph:349bfa1881eb_158.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:8bf6a598615dcda69dfa33ef4e46ac87":{"id":"8bf6a598615dcda69dfa33ef4e46ac87","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"How to make a web app for your own Bluetooth Low Energy device? Step 18","__typename":"MediaResource"},"$Paragraph:349bfa1881eb_158.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:8bf6a598615dcda69dfa33ef4e46ac87","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:349bfa1881eb_159":{"id":"349bfa1881eb_159","name":"59c5","type":"P","href":null,"layout":null,"metadata":null,"text":"Now we have not just a page, but a real progressive web application:","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_160":{"id":"349bfa1881eb_160","name":"fbd5","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*1m8In4c7vjk4U0LLnUYg9Q.png","typename":"ImageMetadata"},"text":"Adding the web app to the homescreen and the Splash screen","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*1m8In4c7vjk4U0LLnUYg9Q.png":{"id":"1*1m8In4c7vjk4U0LLnUYg9Q.png","originalHeight":683,"originalWidth":750,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:349bfa1881eb_161":{"id":"349bfa1881eb_161","name":"1ced","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*XEkswymGWwP42fch762vmg.png","typename":"ImageMetadata"},"text":"Final test","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*XEkswymGWwP42fch762vmg.png":{"id":"1*XEkswymGWwP42fch762vmg.png","originalHeight":683,"originalWidth":1074,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:349bfa1881eb_162":{"id":"349bfa1881eb_162","name":"ce01","type":"H3","href":null,"layout":null,"metadata":null,"text":"Epilogue","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_163":{"id":"349bfa1881eb_163","name":"9ad4","type":"P","href":null,"layout":null,"metadata":null,"text":"So that’s how easy and simple to start developing your own Bluetooth Low Energy devices with cheap modules and cross-platform web apps, using a two-way communication channel between the device and the browser.","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_164":{"id":"349bfa1881eb_164","name":"2030","type":"P","href":null,"layout":null,"metadata":null,"text":"Now you can change the UI to the specific for your device, add necessary handlers, implement your protocol of communication with the device and… turn on a kettle in the kitchen by pressing button in the app on your smartphone!","hasDropCap":null,"dropCapImage":null,"markups":[],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_165":{"id":"349bfa1881eb_165","name":"03bc","type":"P","href":null,"layout":null,"metadata":null,"text":"Final code of index.html, styles.css, main.js andsw.js files available here.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_165.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_165.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_165.markups.2","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_165.markups.3","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_165.markups.4","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_165.markups.0":{"type":"CODE","start":14,"end":24,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_165.markups.1":{"type":"CODE","start":26,"end":36,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_165.markups.2":{"type":"CODE","start":38,"end":45,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_165.markups.3":{"type":"CODE","start":49,"end":54,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_165.markups.4":{"type":"A","start":71,"end":75,"href":"https:\u002F\u002Fgist.github.com\u002Floginov-rocks\u002F8aeb19f207b1da53eaa553faa7aa8a51","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_166":{"id":"349bfa1881eb_166","name":"cc76","type":"P","href":null,"layout":null,"metadata":null,"text":"You can launch modified web terminal here: loginov.rocks\u002FWeb-Bluetooth-Terminal — or see how it works on YouTube.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_166.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_166.markups.1","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_166.markups.0":{"type":"A","start":43,"end":79,"href":"https:\u002F\u002Floginov.rocks\u002FWeb-Bluetooth-Terminal\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_166.markups.1":{"type":"A","start":105,"end":112,"href":"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=BNXN_931W_M","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_167":{"id":"349bfa1881eb_167","name":"e04e","type":"P","href":null,"layout":null,"metadata":null,"text":"Also you can find advanced ES6 class for serial communication with BLE modules and web terminal repo on GitHub.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_167.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_167.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:349bfa1881eb_167.markups.2","typename":"Markup"}],"__typename":"Paragraph","iframe":null,"mixtapeMetadata":null},"Paragraph:349bfa1881eb_167.markups.0":{"type":"A","start":27,"end":36,"href":"https:\u002F\u002Fgithub.com\u002Floginov-rocks\u002Fbluetooth-terminal","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_167.markups.1":{"type":"A","start":83,"end":100,"href":"https:\u002F\u002Fgithub.com\u002Floginov-rocks\u002FWeb-Bluetooth-Terminal","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:349bfa1881eb_167.markups.2":{"type":"STRONG","start":104,"end":111,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Tag:web-development":{"id":"web-development","displayTitle":"Web Development","__typename":"Tag"},"Tag:arduino":{"id":"arduino","displayTitle":"Arduino","__typename":"Tag"},"Tag:web-bluetooth":{"id":"web-bluetooth","displayTitle":"Web Bluetooth","__typename":"Tag"},"Tag:javascript":{"id":"javascript","displayTitle":"JavaScript","__typename":"Tag"},"Tag:bluetooth-low-energy":{"id":"bluetooth-low-energy","displayTitle":"Bluetooth Low Energy","__typename":"Tag"},"$Post:2af8d16fdbe8.previewContent":{"subtitle":"Some time ago I assembled unpretentious robot arm for fun and decided to control it with smartphone using Bluetooth. At that time I haven’t…","__typename":"PreviewContent"},"$ROOT_QUERY.notificationsConnection({})":{"notifications":[],"pagingInfo":{"type":"id","generated":true,"id":"$ROOT_QUERY.notificationsConnection({}).pagingInfo","typename":"Paging"},"__typename":"NotificationsConnection"},"$ROOT_QUERY.notificationsConnection({}).pagingInfo":{"next":null,"__typename":"Paging"},"$ROOT_QUERY.notificationStatus":{"unreadNotificationCount":0,"__typename":"NotificationStatus"}}</script><script src="./How to make a web app for your own Bluetooth Low Energy device__files/manifest.8f9e518c.js"></script><script src="./How to make a web app for your own Bluetooth Low Energy device__files/vendors_main.51281d83.chunk.js"></script><script src="./How to make a web app for your own Bluetooth Low Energy device__files/main.daa8a9ca.chunk.js"></script><script src="./How to make a web app for your own Bluetooth Low Energy device__files/vendors_screen.collection.packageBuilder_screen.landingpages.pres45_screen.landingpages.tribute_scre_3e410f11.d2f0cb5c.chunk.js"></script>
<script src="./How to make a web app for your own Bluetooth Low Energy device__files/screen.collection.packageBuilder_screen.landingpages.pres45_screen.landingpages.tribute_screen.post__4767c889.ddfb0e02.chunk.js"></script>
<script src="./How to make a web app for your own Bluetooth Low Energy device__files/screen.collection.packageBuilder_screen.landingpages.pres45_screen.landingpages.tribute_screen.post__73c4bb05.8909fa75.chunk.js"></script>
<script src="./How to make a web app for your own Bluetooth Low Energy device__files/screen.post_screen.post.amp_screen.profile_screen.sequence.library_screen.sequence.post_screen.stori_aba94ffa.75cf56c7.chunk.js"></script>
<script src="./How to make a web app for your own Bluetooth Low Energy device__files/screen.post.22f8f1bb.chunk.js"></script><script>window.main();</script><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./How to make a web app for your own Bluetooth Low Energy device__files/translate_24dp.png" width="20" height="20" alt="Google Translate"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">Original text</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">Contribute a better translation</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div><script src="./How to make a web app for your own Bluetooth Low Energy device__files/p.js" async="" id="parsely-cf"></script><div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>